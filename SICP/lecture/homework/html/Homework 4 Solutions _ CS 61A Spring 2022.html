<!DOCTYPE html>
<!-- saved from url=(0030)https://cs61a.org/hw/sol-hw04/ -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="description" content="CS 61A: Structure and Interpretation of Computer Programs">
    <meta name="keywords" content="CS 61A, Computer Science, CS, 61A, Programming, John DeNero, Berkeley, EECS">
    <meta name="author" content="Pamela Fox">
    
    <meta name="viewport" content="width=device-width">

    <script src="./Homework 4 Solutions _ CS 61A Spring 2022_files/jquery.min.js.下载"></script>
    <script src="./Homework 4 Solutions _ CS 61A Spring 2022_files/jquery.ba-throttle-debounce.min.js.下载"></script>
    <script src="./Homework 4 Solutions _ CS 61A Spring 2022_files/bootstrap.min.js.下载"></script>
    <script src="./Homework 4 Solutions _ CS 61A Spring 2022_files/hl.js.下载"></script>
    <script src="./Homework 4 Solutions _ CS 61A Spring 2022_files/toggledarkmode.js.下载"></script>
    <script>
        // we aren't registering builtins since
        //      (1) they don't render differently in the current CSS from other names
        //      (2) it's a mess to list all of them. You can extract from the site but that takes effort
        // if (1) ceases to be true, (2) might be worth the effort. For now, we're leaving as is
        hljsRegister({
            'keyword': "define if cond and or let begin lambda mu quote delay cons-stream set! quasiquote unquote unquote-splicing define-macro"
        });
        hljs.initHighlightingOnLoad();
    </script>
    <script src="./Homework 4 Solutions _ CS 61A Spring 2022_files/dark-mode.js.下载"></script>
    <link rel="stylesheet" href="./Homework 4 Solutions _ CS 61A Spring 2022_files/bootstrap.min.css">
    <link rel="stylesheet" href="./Homework 4 Solutions _ CS 61A Spring 2022_files/css">
    <link rel="stylesheet" href="./Homework 4 Solutions _ CS 61A Spring 2022_files/style.css">
    <link rel="stylesheet" href="./Homework 4 Solutions _ CS 61A Spring 2022_files/mono-blue.css">
    <link rel="icon" href="https://cs61a.org/assets/images/favicon.ico">

    

<link rel="stylesheet" type="text/css" href="./Homework 4 Solutions _ CS 61A Spring 2022_files/hw.css">


    <title>
Homework 4 Solutions | CS 61A Spring 2022
</title>
  </head>

  <body id="index" class="home" data-new-gr-c-s-check-loaded="14.1057.0" data-gr-ext-installed="">
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container noselect">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-section">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="https://cs61a.org/">
            <img style="max-width:60px; margin-top: -20px;" class="logo" src="./Homework 4 Solutions _ CS 61A Spring 2022_files/logo.png">
          </a>
        <button type="button" class="btn btn-primary" style="float: left; margin-top: 8px;"><span style="filter: grayscale(100%);">✏️</span></button></div>

        <div class="collapse navbar-collapse" id="navbar-collapse-section">
          <ul class="nav navbar-nav navbar-right">
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="https://cs61a.org/hw/sol-hw04/#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Calendar
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a href="https://cs61a.org/weekly">Weekly Schedule</a></li>
                <li><a href="https://cs61a.org/office-hours">Office Hours</a></li>
              </ul>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="https://cs61a.org/hw/sol-hw04/#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Staff
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a href="https://cs61a.org/instructor">Instructors</a></li>
                <li><a href="https://cs61a.org/TAs">TAs</a></li>
                <li><a href="https://cs61a.org/tutors">Tutors</a></li>
                <li><a href="https://cs61a.org/academic-interns">Academic Interns</a></li>
              </ul>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="https://cs61a.org/hw/sol-hw04/#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a href="https://cs61a.org/resources/">Topical Resources + Past Exams</a></li>
                <li><a href="https://tutor.cs61a.org/">PyTutor</a></li>
                <li><a href="https://code.cs61a.org/">Code</a></li>
                <li><a href="https://piazza.com/class/kxj8vcku7037li" target="_blank">Piazza</a></li>
                <li><a href="https://cs61a.org/articles/campus-res/">Department/Campus Resources</a></li>
              </ul>
            </li>
            <li><a href="https://cs61a.org/articles/about">Syllabus</a></li>
            <li><a href="https://cs61a.org/contact/">Contact</a></li>
            <li>
              <label class="switch">
                <input type="checkbox" id="toggle-mode-cb">
                <span class="slider round"></span>
              </label>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <main id="content" class="container">
      
<div class="row">
  <div class="col-md-9">
    <header>
      <h1>
        
Homework 4 Solutions

        
        
        <ul class="inline-block list-inline">
          <li><a href="https://cs61a.org/hw/sol-hw04/hw04.zip" class="label label-outline">hw04.zip</a></li>
        </ul>
        
        
      </h1>
    </header>
    
<h2>Solution Files</h2>
<p>You can find solutions for all questions in <a href="https://cs61a.org/hw/sol-hw04/hw04.py">hw04.py</a>.</p>

    
<h1 id="required-questions">Required questions</h1>



<h2 id="parsons-problems">Parsons Problems</h2>


<p>To work on these problems, open the Parsons editor:</p>

<pre><code class="py hljs python">python3 parsons</code></pre>




<h3 id="q1-remove-odd-indices">Q1: Remove Odd Indices</h3>


<p>Complete the function <code>remove_odd_indices</code>, which takes in a list <code>lst</code> and a boolean <code>odd</code>, and returns a new list with elements removed at certain indices. 
If <code>odd</code> is <code>True</code>, then the function should remove elements at odd indices; otherwise if <code>odd</code> is False, then the function should remove
even indexed items.</p>

<p>Note that lists are zero-indexed; thus, the first element is at index 0, the second element is at index 1, etc.</p>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">remove_odd_indices</span><span class="hljs-params">(lst, odd)</span>:</span>
    <span class="hljs-string">""" 
    Remove elements of lst that have odd indices.
    &gt;&gt;&gt; s = [1, 2, 3, 4]
    &gt;&gt;&gt; t = remove_odd_indices(s, True)
    &gt;&gt;&gt; s
    [1, 2, 3, 4]
    &gt;&gt;&gt; t
    [1, 3]
    &gt;&gt;&gt; l = [5, 6, 7, 8]
    &gt;&gt;&gt; m = remove_odd_indices(l, False)
    &gt;&gt;&gt; m
    [6, 8]
    """</span>
<div class="sol-highlight">    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> lst:
        <span class="hljs-keyword">return</span> lst
    <span class="hljs-keyword">if</span> odd:
        <span class="hljs-keyword">return</span> [lst[<span class="hljs-number">0</span>]] + remove_odd_indices(lst[<span class="hljs-number">1</span>:], <span class="hljs-keyword">not</span> odd)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">return</span> remove_odd_indices(lst[<span class="hljs-number">1</span>:], <span class="hljs-keyword">not</span> odd)</div></code></pre>


<h3 id="q2-smart-fridge">Q2: Smart Fridge</h3>


<p>The <code>SmartFridge</code> class is used by smart
refrigerators to track which items are in the fridge
and let owners know when an item has run out.</p>

<p>The class internally uses a dictionary to store items,
where each key is the item name and the value is the current quantity.
The <code>add_item</code> method should add the given quantity
of the given item and report the current quantity.
You can assume that the <code>use_item</code> method will only be called on
items that are already in the fridge, and it should use up
the given quantity of the given item. If the quantity would fall to or below zero, it should only use <em>up to</em> the remaining quantity, and remind the owner to buy more of that item.
<br>

Finish implementing the <code>SmartFridge</code> class definition
so that its <code>add_item</code> and <code>use_item</code> methods work as expected.</p>

<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SmartFridge</span>:</span>
    <span class="hljs-string">""""
    &gt;&gt;&gt; fridgey = SmartFridge()
    &gt;&gt;&gt; fridgey.add_item('Mayo', 1)
    'I now have 1 Mayo'
    &gt;&gt;&gt; fridgey.add_item('Mayo', 2)
    'I now have 3 Mayo'
    &gt;&gt;&gt; fridgey.use_item('Mayo', 2.5)
    'I have 0.5 Mayo left'
    &gt;&gt;&gt; fridgey.use_item('Mayo', 0.5)
    'Uh oh, buy more Mayo!'
    """</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        self.items = {}
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">add_item</span><span class="hljs-params">(self, item, quantity)</span>:</span>
<div class="sol-highlight">        <span class="hljs-keyword">if</span> item <span class="hljs-keyword">in</span> self.items:
            self.items[item] += quantity
        <span class="hljs-keyword">else</span>:
            self.items[item] = quantity
        <span class="hljs-keyword">return</span> <span class="hljs-string">f'I now have <span class="hljs-subst">{self.items[item]}</span> <span class="hljs-subst">{item}</span>'</span></div>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">use_item</span><span class="hljs-params">(self, item, quantity)</span>:</span>
<div class="sol-highlight">        self.items[item] -= min(quantity, self.items[item])
        <span class="hljs-keyword">if</span> self.items[item] == <span class="hljs-number">0</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">f'Uh oh, buy more <span class="hljs-subst">{item}</span>!'</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">f'I have <span class="hljs-subst">{self.items[item]}</span> <span class="hljs-subst">{item}</span> left'</span></div></code></pre>


<h2 id="code-writing-questions">Code Writing Questions</h2>



<h3 id="q3-merge">Q3: Merge</h3>


<p>Write a function <code>merge</code> that takes 2 <em>sorted</em> lists <code>lst1</code> and <code>lst2</code>,
and returns a new list that contains all the elements in the two lists
in sorted order.
Note: Try to solve this question using recursion instead of iteration.</p>

<solution>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">merge</span><span class="hljs-params">(lst1, lst2)</span>:</span>
    <span class="hljs-string">"""Merges two sorted lists.

    &gt;&gt;&gt; merge([1, 3, 5], [2, 4, 6])
    [1, 2, 3, 4, 5, 6]
    &gt;&gt;&gt; merge([], [2, 4, 6])
    [2, 4, 6]
    &gt;&gt;&gt; merge([1, 2, 3], [])
    [1, 2, 3]
    &gt;&gt;&gt; merge([5, 7], [2, 4, 6])
    [2, 4, 5, 6, 7]
    """</span>
<div class="sol-highlight">    <span class="hljs-comment"># recursive</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> lst1 <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> lst2:
        <span class="hljs-keyword">return</span> lst1 + lst2
    <span class="hljs-keyword">elif</span> lst1[<span class="hljs-number">0</span>] &lt; lst2[<span class="hljs-number">0</span>]:
        <span class="hljs-keyword">return</span> [lst1[<span class="hljs-number">0</span>]] + merge(lst1[<span class="hljs-number">1</span>:], lst2)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">return</span> [lst2[<span class="hljs-number">0</span>]] + merge(lst1, lst2[<span class="hljs-number">1</span>:])

<span class="hljs-comment"># Iterative solution</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">merge_iter</span><span class="hljs-params">(lst1, lst2)</span>:</span>
    <span class="hljs-string">"""Merges two sorted lists.

    &gt;&gt;&gt; merge_iter([1, 3, 5], [2, 4, 6])
    [1, 2, 3, 4, 5, 6]
    &gt;&gt;&gt; merge_iter([], [2, 4, 6])
    [2, 4, 6]
    &gt;&gt;&gt; merge_iter([1, 2, 3], [])
    [1, 2, 3]
    &gt;&gt;&gt; merge_iter([5, 7], [2, 4, 6])
    [2, 4, 5, 6, 7]
    """</span>
    new = []
    <span class="hljs-keyword">while</span> lst1 <span class="hljs-keyword">and</span> lst2:
        <span class="hljs-keyword">if</span> lst1[<span class="hljs-number">0</span>] &lt; lst2[<span class="hljs-number">0</span>]:
            new += [lst1[<span class="hljs-number">0</span>]]
            lst1 = lst1[<span class="hljs-number">1</span>:]
        <span class="hljs-keyword">else</span>:
            new += [lst2[<span class="hljs-number">0</span>]]
            lst2 = lst2[<span class="hljs-number">1</span>:]
    <span class="hljs-keyword">if</span> lst1:
        <span class="hljs-keyword">return</span> new + lst1
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">return</span> new + lst2</div></code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q merge</code><button id="copy-code-python3ok-qmerge" class="inline-copy-button"><code class="nohighlight"><div class="copy-tooltip"><span>Copy</span></div>✂️</code></button></pre>
        <script>
        document.getElementById("copy-code-python3ok-qmerge").onclick = () => copyCode('python3 ok -q merge', "copy-code-python3ok-qmerge");
        </script>
        <br>


<h3 id="q4-mint">Q4: Mint</h3>


<p>A mint is a place where coins are made. In this question, you'll implement a <code>Mint</code> class that can output a <code>Coin</code> with the correct year and worth.</p>

<ul>
  <li>Each <code>Mint</code> instance has a <code>year</code> stamp. The <code>update</code> method sets the
  <code>year</code> stamp to the <code>present_year</code> class attribute of the <code>Mint</code> class.</li>
  <li>The <code>create</code> method takes a subclass of <code>Coin</code> and returns an instance of
  that class stamped with the <code>mint</code>'s year (which may be different from
  <code>Mint.present_year</code> if it has not been updated.)</li>
  <li>A <code>Coin</code>'s <code>worth</code> method returns the <code>cents</code> value of the coin plus one
  extra cent for each year of age beyond 50. A coin's age can be determined
  by subtracting the coin's year from the <code>present_year</code> class attribute of
  the <code>Mint</code> class.</li>
</ul>

<solution>

<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Mint</span>:</span>
    <span class="hljs-string">"""A mint creates coins by stamping on years.

    The update method sets the mint's stamp to Mint.present_year.

    &gt;&gt;&gt; mint = Mint()
    &gt;&gt;&gt; mint.year
    2021
    &gt;&gt;&gt; dime = mint.create(Dime)
    &gt;&gt;&gt; dime.year
    2021
    &gt;&gt;&gt; Mint.present_year = 2101  # Time passes
    &gt;&gt;&gt; nickel = mint.create(Nickel)
    &gt;&gt;&gt; nickel.year     # The mint has not updated its stamp yet
    2021
    &gt;&gt;&gt; nickel.worth()  # 5 cents + (80 - 50 years)
    35
    &gt;&gt;&gt; mint.update()   # The mint's year is updated to 2101
    &gt;&gt;&gt; Mint.present_year = 2176     # More time passes
    &gt;&gt;&gt; mint.create(Dime).worth()    # 10 cents + (75 - 50 years)
    35
    &gt;&gt;&gt; Mint().create(Dime).worth()  # A new mint has the current year
    10
    &gt;&gt;&gt; dime.worth()     # 10 cents + (155 - 50 years)
    115
    &gt;&gt;&gt; Dime.cents = 20  # Upgrade all dimes!
    &gt;&gt;&gt; dime.worth()     # 20 cents + (155 - 50 years)
    125
    """</span>
    present_year = <span class="hljs-number">2021</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        self.update()

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">create</span><span class="hljs-params">(self, coin)</span>:</span>
<div class="sol-highlight">        <span class="hljs-keyword">return</span> coin(self.year)</div>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update</span><span class="hljs-params">(self)</span>:</span>
<div class="sol-highlight">        self.year = Mint.present_year</div>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Coin</span>:</span>
    cents = <span class="hljs-literal">None</span> <span class="hljs-comment"># will be provided by subclasses, but not by Coin itself</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, year)</span>:</span>
        self.year = year

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">worth</span><span class="hljs-params">(self)</span>:</span>
<div class="sol-highlight">        <span class="hljs-keyword">return</span> self.cents + max(<span class="hljs-number">0</span>, Mint.present_year - self.year - <span class="hljs-number">50</span>)</div>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Nickel</span><span class="hljs-params">(Coin)</span>:</span>
    cents = <span class="hljs-number">5</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Dime</span><span class="hljs-params">(Coin)</span>:</span>
    cents = <span class="hljs-number">10</span></code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q Mint</code><button id="copy-code-python3ok-qMint" class="inline-copy-button"><code class="nohighlight"><div class="copy-tooltip"><span>Copy</span></div>✂️</code></button></pre>
        <script>
        document.getElementById("copy-code-python3ok-qMint").onclick = () => copyCode('python3 ok -q Mint', "copy-code-python3ok-qMint");
        </script>
        <br>


<h3 id="q5-vending-machine">Q5: Vending Machine</h3>


<p>In this question you'll create a <a href="https://en.wikipedia.org/wiki/Vending_machine">vending machine</a> that only outputs a single product and provides change when needed.</p>

<p>Create a class called <code>VendingMachine</code> that represents a vending
machine for some product. A <code>VendingMachine</code> object returns strings
describing its interactions. Remember to match <strong>exactly</strong> the strings in the
doctests -- including punctuation and spacing!</p>

<p>Fill in the <code>VendingMachine</code> class, adding attributes and methods as
appropriate, such that its behavior matches the following doctests:</p>

<solution>

<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">VendingMachine</span>:</span>
    <span class="hljs-string">"""A vending machine that vends some product for some price.

    &gt;&gt;&gt; v = VendingMachine('candy', 10)
    &gt;&gt;&gt; v.vend()
    'Nothing left to vend. Please restock.'
    &gt;&gt;&gt; v.add_funds(15)
    'Nothing left to vend. Please restock. Here is your $15.'
    &gt;&gt;&gt; v.restock(2)
    'Current candy stock: 2'
    &gt;&gt;&gt; v.vend()
    'You must add $10 more funds.'
    &gt;&gt;&gt; v.add_funds(7)
    'Current balance: $7'
    &gt;&gt;&gt; v.vend()
    'You must add $3 more funds.'
    &gt;&gt;&gt; v.add_funds(5)
    'Current balance: $12'
    &gt;&gt;&gt; v.vend()
    'Here is your candy and $2 change.'
    &gt;&gt;&gt; v.add_funds(10)
    'Current balance: $10'
    &gt;&gt;&gt; v.vend()
    'Here is your candy.'
    &gt;&gt;&gt; v.add_funds(15)
    'Nothing left to vend. Please restock. Here is your $15.'

    &gt;&gt;&gt; w = VendingMachine('soda', 2)
    &gt;&gt;&gt; w.restock(3)
    'Current soda stock: 3'
    &gt;&gt;&gt; w.restock(3)
    'Current soda stock: 6'
    &gt;&gt;&gt; w.add_funds(2)
    'Current balance: $2'
    &gt;&gt;&gt; w.vend()
    'Here is your soda.'
    """</span>
<div class="sol-highlight">    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, product, price)</span>:</span>
        self.product = product
        self.price = price
        self.stock = <span class="hljs-number">0</span>
        self.balance = <span class="hljs-number">0</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">restock</span><span class="hljs-params">(self, n)</span>:</span>
        self.stock += n
        <span class="hljs-keyword">return</span> <span class="hljs-string">f'Current <span class="hljs-subst">{self.product}</span> stock: <span class="hljs-subst">{self.stock}</span>'</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">add_funds</span><span class="hljs-params">(self, n)</span>:</span>
        <span class="hljs-keyword">if</span> self.stock == <span class="hljs-number">0</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">f'Nothing left to vend. Please restock. Here is your $<span class="hljs-subst">{n}</span>.'</span>
        self.balance += n
        <span class="hljs-keyword">return</span> <span class="hljs-string">f'Current balance: $<span class="hljs-subst">{self.balance}</span>'</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">vend</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-keyword">if</span> self.stock == <span class="hljs-number">0</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">'Nothing left to vend. Please restock.'</span>
        difference = self.price - self.balance
        <span class="hljs-keyword">if</span> difference &gt; <span class="hljs-number">0</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">f'You must add $<span class="hljs-subst">{difference}</span> more funds.'</span>
        message = <span class="hljs-string">f'Here is your <span class="hljs-subst">{self.product}</span>'</span>
        <span class="hljs-keyword">if</span> difference != <span class="hljs-number">0</span>:
            message += <span class="hljs-string">f' and $<span class="hljs-subst">{-difference}</span> change'</span>
        self.balance = <span class="hljs-number">0</span>
        self.stock -= <span class="hljs-number">1</span>
        <span class="hljs-keyword">return</span> message + <span class="hljs-string">'.'</span></div></code></pre>

</solution>

<blockquote><p>You may find Python's formatted string literals, or <a href="https://docs.python.org/3/tutorial/inputoutput.html#fancier-output-formatting">f-strings</a> useful.
A quick example:</p>

<pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>feeling = <span class="hljs-string">'love'</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>course = <span class="hljs-string">'61A!'</span>
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">f'I <span class="hljs-subst">{feeling}</span> <span class="hljs-subst">{course}</span>'</span>
<span class="hljs-string">'I love 61A!'</span></code></pre></blockquote>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q VendingMachine</code><button id="copy-code-python3ok-qVendingMachine" class="inline-copy-button"><code class="nohighlight"><div class="copy-tooltip"><span>Copy</span></div>✂️</code></button></pre>
        <script>
        document.getElementById("copy-code-python3ok-qVendingMachine").onclick = () => copyCode('python3 ok -q VendingMachine', "copy-code-python3ok-qVendingMachine");
        </script>
        <br>

<blockquote><p>If you're curious about alternate methods of string formatting, you can also check out an older method of <a href="https://docs.python.org/2/library/stdtypes.html#str.format">Python string formatting</a>.
A quick example:</p>

<pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>ten, twenty, thirty = <span class="hljs-number">10</span>, <span class="hljs-string">'twenty'</span>, [<span class="hljs-number">30</span>]
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">'{0} plus {1} is {2}'</span>.format(ten, twenty, thirty)
<span class="hljs-string">'10 plus twenty is [30]'</span></code></pre></blockquote>

<div class="sol-highlight">

<p>Reading through the doctests, it should be clear which functions we should add
to ensure that the vending machine class behaves correctly.</p>

<p><code>__init__</code></p>

<ul>
  <li>This can be difficult to fill out at first. Both <code>product</code> and <code>price</code> seem
  pretty obvious to keep around, but <code>stock</code> and <code>balance</code> are quantities that
  are needed only after attempting other functions.</li>
</ul>

<p><code>restock</code></p>

<ul>
  <li>Even though <code>v.restock(2)</code> takes only one argument in the doctest, remember
  that <code>self</code> is bound to the object the <code>restock</code> method is invoked on.
  Therefore, this function has two parameters.</li>
  <li>While implementing this function, you will probably realize that you would
  like to keep track of the stock somewhere. While it might be possible to set
  the stock in this function as an instance attribute, it would lose whatever
  the old stock was.
  Therefore, the natural solution is to initialize stock in the constructor, and
  then update it in <code>restock</code>.</li>
</ul>

<p><code>add_funds</code></p>

<ul>
  <li>This behaves very similarly to <code>restock</code>. See comments above.</li>
  <li>Also yes, this is quite the expensive vending machine.</li>
</ul>

<p><code>vend</code></p>

<ul>
  <li><p>The trickiest thing here is to make sure we handle all the cases. You may find
  it helpful when implementing a problem like this to keep track of all the
  errors we run into in the doctest.</p>

  <ol>
    <li>No stock</li>
    <li>Not enough balance</li>
    <li>Leftover balance after purchase (return change to customer)</li>
    <li>No leftover balance after purchase</li>
  </ol></li>
  <li><p>We use some string concatenation at the end when handling case 3 and 4 to try
  and reduce the amount of code. This isn't necessary for correctness -- it's ok
  to have something like:</p>

<pre><code class="hljs python"><span class="hljs-keyword">if</span> difference != <span class="hljs-number">0</span>:
    <span class="hljs-keyword">return</span> ...
<span class="hljs-keyword">else</span>:
    <span class="hljs-keyword">return</span> ...</code></pre>

  <p>Of course, that would require decrementing the balance and stock beforehand.</p></li>
</ul>

</div>


<h2 id="submit">Submit</h2>


<p>Make sure to submit this assignment by running:</p>

<pre><code class="hljs sql">python3 ok <span class="hljs-comment">--submit</span></code></pre>

  </div>

  <div class="col-md-3 sticky">
    <nav class="hidden-print hidden-sm hidden-xs sidebar">
      <ul class="nav nav-stacked noselect">
  <li><a href="https://cs61a.org/hw/sol-hw04/#required-questions">Required questions</a></li>
  <ul class="nav nav-stacked noselect">
    <li><a href="https://cs61a.org/hw/sol-hw04/#parsons-problems">Parsons Problems</a></li>
    <ul class="nav nav-stacked noselect">
      <li><a href="https://cs61a.org/hw/sol-hw04/#q1-remove-odd-indices">Q1: Remove Odd Indices</a></li>
      <li><a href="https://cs61a.org/hw/sol-hw04/#q2-smart-fridge">Q2: Smart Fridge</a></li>
    </ul>
    <li><a href="https://cs61a.org/hw/sol-hw04/#code-writing-questions">Code Writing Questions</a></li>
    <ul class="nav nav-stacked noselect">
      <li><a href="https://cs61a.org/hw/sol-hw04/#q3-merge">Q3: Merge</a></li>
      <li><a href="https://cs61a.org/hw/sol-hw04/#q4-mint">Q4: Mint</a></li>
      <li><a href="https://cs61a.org/hw/sol-hw04/#q5-vending-machine">Q5: Vending Machine</a></li>
    </ul>
    <li><a href="https://cs61a.org/hw/sol-hw04/#submit">Submit</a></li>
  </ul>
</ul>
    </nav>
  </div>
</div>

    </main>

    <footer class="container">
      <div class="row text-center">
        <div class="col col-sm-4">
          <h3><a href="https://cs61a.org/">CS 61A</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="https://cs61a.org/weekly">Weekly Schedule</a></li>
            <li><a href="https://cs61a.org/office-hours">Office Hours</a></li>
            <li><a href="https://cs61a.org/staff">Staff</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="https://cs61a.org/resources">Resources</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="https://cs61a.org/articles/studying">Studying Guide</a></li>
            <li><a href="https://cs61a.org/articles/debugging">Debugging Guide</a></li>
            <li><a href="https://cs61a.org/articles/composition">Composition Guide</a></li>
            <li><a href="https://cs61a.org/articles/pair-programming">Pair Programming</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="https://cs61a.org/articles/about">Policies</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="https://cs61a.org/articles/about#assignments">Assignments</a></li>
            <li><a href="https://cs61a.org/articles/about#exams">Exams</a></li>
            <li><a href="https://cs61a.org/articles/about#grading">Grading</a></li>
          </ul>
        </div>
      </div>
    </footer>

    

    <script src="./Homework 4 Solutions _ CS 61A Spring 2022_files/loader.min.js.下载"></script>
  <link rel="stylesheet" data-name="vs/editor/editor.main" href="./Homework 4 Solutions _ CS 61A Spring 2022_files/editor.main.min.css">
  <script>
      require.config({ paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs' }});
      window.MonacoEnvironment = { getWorkerUrl: () => URL.createObjectURL(new Blob([`
      self.MonacoEnvironment = {
          baseUrl: 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min'
      };
      importScripts('https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/base/worker/workerMain.min.js');
  `], { type: 'text/javascript' }))
  };
  </script>
    <script src="./Homework 4 Solutions _ CS 61A Spring 2022_files/jsplumb.min.js.下载"></script>
    <script src="./Homework 4 Solutions _ CS 61A Spring 2022_files/network_storage.js.下载"></script>
    <script src="./Homework 4 Solutions _ CS 61A Spring 2022_files/storable.js.下载"></script>
    <script src="./Homework 4 Solutions _ CS 61A Spring 2022_files/editor.js.下载"></script>
    <script src="./Homework 4 Solutions _ CS 61A Spring 2022_files/copy-button.js.下载"></script>
    <script src="./Homework 4 Solutions _ CS 61A Spring 2022_files/env-diagram.js.下载"></script>
    
<script src="./Homework 4 Solutions _ CS 61A Spring 2022_files/sketchy.js.下载"></script>
<script>
  $('.sidebar ul').addClass('nav nav-stacked noselect');
  $('body').scrollspy({
    target: '.sidebar',
    offset: 40
  });

  function goToId(id) {
    var target = $(id);
    target.parent().show();
    $('html,body').animate({
      scrollTop: target.offset().top,
    }, 100);
    $("body").scrollspy('refresh');
  }

  if (location.hash) {
    setTimeout(function() {
      if (location.hash) {
        goToId(location.hash);
      }
    }, 1);
  }

  $("a").click(function(event) {
    var urlBeforeHashRegEx = new RegExp("^"+window.location.href.split("#")[0]);
    if (/^#/.test(this.hash) && urlBeforeHashRegEx.test(this.href)) {
      event.preventDefault();
      goToId(this.hash);
      document.location.hash = this.hash;
    }
  });
</script>

  
</body><grammarly-desktop-integration data-grammarly-shadow-root="true"></grammarly-desktop-integration></html>