<!DOCTYPE html>
<!-- saved from url=(0032)https://cs61a.org/lab/sol-lab02/ -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="description" content="CS 61A: Structure and Interpretation of Computer Programs">
    <meta name="keywords" content="CS 61A, Computer Science, CS, 61A, Programming, John DeNero, Berkeley, EECS">
    <meta name="author" content="Pamela Fox">
    
    <meta name="viewport" content="width=device-width">

    <script src="./Lab 2 Solutions _ CS 61A Spring 2022_files/jquery.min.js.下载"></script>
    <script src="./Lab 2 Solutions _ CS 61A Spring 2022_files/jquery.ba-throttle-debounce.min.js.下载"></script>
    <script src="./Lab 2 Solutions _ CS 61A Spring 2022_files/bootstrap.min.js.下载"></script>
    <script src="./Lab 2 Solutions _ CS 61A Spring 2022_files/hl.js.下载"></script>
    <script src="./Lab 2 Solutions _ CS 61A Spring 2022_files/toggledarkmode.js.下载"></script>
    <script>
        // we aren't registering builtins since
        //      (1) they don't render differently in the current CSS from other names
        //      (2) it's a mess to list all of them. You can extract from the site but that takes effort
        // if (1) ceases to be true, (2) might be worth the effort. For now, we're leaving as is
        hljsRegister({
            'keyword': "define if cond and or let begin lambda mu quote delay cons-stream set! quasiquote unquote unquote-splicing define-macro"
        });
        hljs.initHighlightingOnLoad();
    </script>
    <script src="./Lab 2 Solutions _ CS 61A Spring 2022_files/dark-mode.js.下载"></script>
    <link rel="stylesheet" href="./Lab 2 Solutions _ CS 61A Spring 2022_files/bootstrap.min.css">
    <link rel="stylesheet" href="./Lab 2 Solutions _ CS 61A Spring 2022_files/css">
    <link rel="stylesheet" href="./Lab 2 Solutions _ CS 61A Spring 2022_files/style.css">
    <link rel="stylesheet" href="./Lab 2 Solutions _ CS 61A Spring 2022_files/mono-blue.css">
    <link rel="icon" href="https://cs61a.org/assets/images/favicon.ico">

    

<link rel="stylesheet" type="text/css" href="./Lab 2 Solutions _ CS 61A Spring 2022_files/lab.css">


    <title>
Lab 2 Solutions | CS 61A Spring 2022
</title>
  </head>

  <body id="index" class="home" data-new-gr-c-s-check-loaded="14.1057.0" data-gr-ext-installed="">
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container noselect">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-section">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="https://cs61a.org/">
            <img style="max-width:60px; margin-top: -20px;" class="logo" src="./Lab 2 Solutions _ CS 61A Spring 2022_files/logo.png">
          </a>
        <button type="button" class="btn btn-primary" style="float: left; margin-top: 8px;"><span style="filter: grayscale(100%);">✏️</span></button></div>

        <div class="collapse navbar-collapse" id="navbar-collapse-section">
          <ul class="nav navbar-nav navbar-right">
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="https://cs61a.org/lab/sol-lab02/#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Calendar
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a href="https://cs61a.org/weekly">Weekly Schedule</a></li>
                <li><a href="https://cs61a.org/office-hours">Office Hours</a></li>
              </ul>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="https://cs61a.org/lab/sol-lab02/#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Staff
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a href="https://cs61a.org/instructor">Instructors</a></li>
                <li><a href="https://cs61a.org/TAs">TAs</a></li>
                <li><a href="https://cs61a.org/tutors">Tutors</a></li>
                <li><a href="https://cs61a.org/academic-interns">Academic Interns</a></li>
              </ul>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="https://cs61a.org/lab/sol-lab02/#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a href="https://cs61a.org/resources/">Topical Resources + Past Exams</a></li>
                <li><a href="https://tutor.cs61a.org/">PyTutor</a></li>
                <li><a href="https://code.cs61a.org/">Code</a></li>
                <li><a href="https://piazza.com/class/kxj8vcku7037li" target="_blank">Piazza</a></li>
                <li><a href="https://cs61a.org/articles/campus-res/">Department/Campus Resources</a></li>
              </ul>
            </li>
            <li><a href="https://cs61a.org/articles/about">Syllabus</a></li>
            <li><a href="https://cs61a.org/contact/">Contact</a></li>
            <li>
              <label class="switch">
                <input type="checkbox" id="toggle-mode-cb">
                <span class="slider round"></span>
              </label>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <main id="content" class="container">
      
<div class="row">
  <div class="col-md-9">
    <header>
      <h1>
        
Lab 2 Solutions

        
        
        <ul class="inline-block list-inline">
          <li><a href="https://cs61a.org/lab/sol-lab02/lab02.zip" class="label label-outline">lab02.zip</a></li>
        </ul>
        
        
      </h1>
    </header>
    
<h2>Solution Files</h2>


    
<h1 id="topics">Topics</h1>


<p>Consult this section if you need a refresher on the material for this lab. It's
okay to skip directly to <a href="https://cs61a.org/lab/sol-lab02/#required-questions">the questions</a> and refer back
here should you get stuck.</p>


        <button id="toggle-1" class="btn btn-outline btn-lg alwaystoggle toggle">
        Lambda Expressions<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-1">

<h2 id="lambda-expressions">Lambda Expressions</h2>


<p>Lambda expressions are expressions that evaluate to functions by specifying two
things: the parameters and a return expression.</p>

<pre><code class="hljs python"><span class="hljs-keyword">lambda</span> &lt;parameters&gt;: &lt;<span class="hljs-keyword">return</span> expression&gt;</code></pre>

<p>While both <code>lambda</code> expressions and <code>def</code> statements create function objects,
there are some notable differences. <code>lambda</code> expressions work like other
expressions; much like a mathematical expression just evaluates to a number and
does not alter the current environment, a <code>lambda</code> expression
evaluates to a function without changing the current environment. Let's take a
closer look.</p>

<div class="table-responsive">
  <table class="table table-bordered">
      <tbody><tr>
          <th></th>
          <th>lambda</th>
          <th>def</th>
      </tr>
      <tr>
          <td>Type</td>
          <td><i>Expression</i> that evaluates to a value</td>
          <td><i>Statement</i> that alters the environment</td>
      </tr>
      <tr>
          <td>Result of execution</td>
          <td>Creates an anonymous lambda function with no intrinsic name.</td>
          <td>Creates a function with an intrinsic name and binds it to that
          name in the current environment.</td>
      </tr>
      <tr>
          <td>Effect on the environment</td>
          <td>Evaluating a <code>lambda</code> expression does <i>not</i> create or
          modify any variables.</td>
          <td>Executing a <code>def</code> statement both creates a new function
          object <i>and</i> binds it to a name in the current environment.</td>
      </tr>
      <tr>
          <td>Usage</td>
          <td>A <code>lambda</code> expression can be used anywhere that
          expects an expression, such as in an assignment statement or as the
          operator or operand to a call expression.</td>
          <td>After executing a <code>def</code> statement, the created
          function is bound to a name. You should use this name to refer to the
          function anywhere that expects an expression.</td>
      </tr>
      <tr>
          <td>Example</td>
          <td>
<pre><code class="hljs python"><span class="hljs-comment"># A lambda expression by itself does not alter</span>
<span class="hljs-comment"># the environment</span>
<span class="hljs-keyword">lambda</span> x: x * x

<span class="hljs-comment"># We can assign lambda functions to a name</span>
<span class="hljs-comment"># with an assignment statement</span>
square = <span class="hljs-keyword">lambda</span> x: x * x
square(<span class="hljs-number">3</span>)

<span class="hljs-comment"># Lambda expressions can be used as an operator</span>
<span class="hljs-comment"># or operand</span>
negate = <span class="hljs-keyword">lambda</span> f, x: -f(x)
negate(<span class="hljs-keyword">lambda</span> x: x * x, <span class="hljs-number">3</span>)</code></pre></td>
          <td><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">square</span><span class="hljs-params">(x)</span>:</span>
    <span class="hljs-keyword">return</span> x * x

<span class="hljs-comment"># A function created by a def statement</span>
<span class="hljs-comment"># can be referred to by its intrinsic name</span>
square(<span class="hljs-number">3</span>)</code></pre></td>
      </tr>
  </tbody></table>
</div>


            <iframe width="560" height="315" src="./Lab 2 Solutions _ CS 61A Spring 2022_files/vCeNq_P3akI.html" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><p><a href="https://youtu.be/vCeNq_P3akI?list=PLx38hZJ5RLZcUPWZ1-3HYsRPgZ8OCrvqz"> YouTube link </a></p>

</div>


        <button id="toggle-2" class="btn btn-outline btn-lg alwaystoggle toggle">
        Currying<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-2">

<h2 id="currying">Currying</h2>


<p>We can transform multiple-argument functions into a chain of single-argument, higher order functions. For example, we can write a function <code>f(x, y)</code> as a different
function <code>g(x)(y)</code>. This is known as <strong>currying</strong>.</p>

<p>For example, to convert the function <code>add(x, y)</code> into its curried form:</p>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">curry_add</span><span class="hljs-params">(x)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">add2</span><span class="hljs-params">(y)</span>:</span>
        <span class="hljs-keyword">return</span> x + y
    <span class="hljs-keyword">return</span> add2</code></pre>

<p>Calling <code>curry_add(1)</code> returns a new function which only performs the addition once the returned function is called with the second addend.</p>

<pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>add_one = curry_add(<span class="hljs-number">1</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>add_one(<span class="hljs-number">2</span>)
<span class="hljs-number">3</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>add_one(<span class="hljs-number">4</span>)
<span class="hljs-number">5</span></code></pre>

<blockquote><p>Refer to the
<a href="http://composingprograms.com/pages/16-higher-order-functions.html#currying">textbook</a>
for more details about currying.</p></blockquote>

</div>


<h1 id="required-questions">Required Questions</h1>



<h2 id="what-would-python-display">What Would Python Display?</h2>


<blockquote><p><strong>Important:</strong>
For all WWPD questions, type <code>Function</code> if you believe the answer is
<code>&lt;function...&gt;</code>, <code>Error</code> if it errors, and <code>Nothing</code> if nothing is displayed.</p></blockquote>


<h3 id="q1-wwpd-lambda-the-free">Q1: WWPD: Lambda the Free</h3>


<blockquote><p>Use Ok to test your knowledge with the following "What Would Python Display?" questions:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q lambda -u</code><button id="copy-code-python3ok-qlambda-u" class="inline-copy-button"><code class="nohighlight"><div class="copy-tooltip"><span>Copy</span></div>✂️</code></button></pre>
        <script>
        document.getElementById("copy-code-python3ok-qlambda-u").onclick = () => copyCode('python3 ok -q lambda -u', "copy-code-python3ok-qlambda-u");
        </script>
        <br>
<br> <br>
As a reminder, the following two lines of code will not display anything in the
Python interpreter when executed:

<pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>x = <span class="hljs-literal">None</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>x</code></pre></blockquote>

<pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">lambda</span> x: x  <span class="hljs-comment"># A lambda expression with one parameter x</span>
<div class="alt prompt-1">______</div><div class="solution prompt-1">&lt;function &lt;<span class="hljs-keyword">lambda</span>&gt; at ...&gt;</div>
<span class="hljs-meta">&gt;&gt;&gt; </span>a = <span class="hljs-keyword">lambda</span> x: x  <span class="hljs-comment"># Assigning the lambda function to the name a</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>a(<span class="hljs-number">5</span>)
<div class="alt prompt-1">______</div><div class="solution prompt-1">5</div>
<span class="hljs-meta">&gt;&gt;&gt; </span>(<span class="hljs-keyword">lambda</span>: <span class="hljs-number">3</span>)()  <span class="hljs-comment"># Using a lambda expression as an operator in a call exp.</span>
<div class="alt prompt-1">______</div><div class="solution prompt-1">3</div>
<span class="hljs-meta">&gt;&gt;&gt; </span>b = <span class="hljs-keyword">lambda</span> x: <span class="hljs-keyword">lambda</span>: x  <span class="hljs-comment"># Lambdas can return other lambdas!</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>c = b(<span class="hljs-number">88</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>c
<div class="alt prompt-1">______</div><div class="solution prompt-1">&lt;function &lt;<span class="hljs-keyword">lambda</span>&gt; at ...</div>
<span class="hljs-meta">&gt;&gt;&gt; </span>c()
<div class="alt prompt-1">______</div><div class="solution prompt-1">88</div>
<span class="hljs-meta">&gt;&gt;&gt; </span>d = <span class="hljs-keyword">lambda</span> f: f(<span class="hljs-number">4</span>)  <span class="hljs-comment"># They can have functions as arguments as well.</span>
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">square</span><span class="hljs-params">(x)</span>:</span>
<span class="hljs-meta">... </span>    <span class="hljs-keyword">return</span> x * x
<span class="hljs-meta">&gt;&gt;&gt; </span>d(square)
<div class="alt prompt-1">______</div><div class="solution prompt-1">16</div></code></pre>
        <button id="prompt-1" class="btn btn-outline btn-lg solutiontoggle prompt">
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

<pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>x = <span class="hljs-literal">None</span> <span class="hljs-comment"># remember to review the rules of WWPD given above!</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>x
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">lambda</span> x: x
<div class="alt prompt-2">______</div><div class="solution prompt-2">Function</div></code></pre>
        <button id="prompt-2" class="btn btn-outline btn-lg solutiontoggle prompt">
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

<pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>z = <span class="hljs-number">3</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>e = <span class="hljs-keyword">lambda</span> x: <span class="hljs-keyword">lambda</span> y: <span class="hljs-keyword">lambda</span>: x + y + z
<span class="hljs-meta">&gt;&gt;&gt; </span>e(<span class="hljs-number">0</span>)(<span class="hljs-number">1</span>)()
<div class="alt prompt-3">______</div><div class="solution prompt-3">4</div>
<span class="hljs-meta">&gt;&gt;&gt; </span>f = <span class="hljs-keyword">lambda</span> z: x + z
<span class="hljs-meta">&gt;&gt;&gt; </span>f(<span class="hljs-number">3</span>)
<div class="alt prompt-3">______</div><div class="solution prompt-3">NameError: name <span class="hljs-string">'x'</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> defined</div></code></pre>
        <button id="prompt-3" class="btn btn-outline btn-lg solutiontoggle prompt">
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

<!--
<pre><code>&gt;&gt;&gt; x, y, z = 1, 2, 3
&gt;&gt;&gt; a = lambda b: x + y + z
&gt;&gt;&gt; x += y
&gt;&gt;&gt; y &#x2d;= z
&gt;&gt;&gt; a(&#x27;lambdas are fun!&#x27;)
<div class="alt prompt-4">______</div><div class="solution prompt-4">&#x35;</div></code></pre>
        <button id='prompt-4' class='btn btn-outline btn-lg solutiontoggle prompt'>
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        
-->

<pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>higher_order_lambda = <span class="hljs-keyword">lambda</span> f: <span class="hljs-keyword">lambda</span> x: f(x)
<span class="hljs-meta">&gt;&gt;&gt; </span>g = <span class="hljs-keyword">lambda</span> x: x * x
<span class="hljs-meta">&gt;&gt;&gt; </span>higher_order_lambda(<span class="hljs-number">2</span>)(g)  <span class="hljs-comment"># Which argument belongs to which function call?</span>
<div class="alt prompt-5">______</div><div class="solution prompt-5">Error</div>
<span class="hljs-meta">&gt;&gt;&gt; </span>higher_order_lambda(g)(<span class="hljs-number">2</span>)
<div class="alt prompt-5">______</div><div class="solution prompt-5">4</div>
<span class="hljs-meta">&gt;&gt;&gt; </span>call_thrice = <span class="hljs-keyword">lambda</span> f: <span class="hljs-keyword">lambda</span> x: f(f(f(x)))
<span class="hljs-meta">&gt;&gt;&gt; </span>call_thrice(<span class="hljs-keyword">lambda</span> y: y + <span class="hljs-number">1</span>)(<span class="hljs-number">0</span>)
<div class="alt prompt-5">______</div><div class="solution prompt-5">3</div>
<span class="hljs-meta">&gt;&gt;&gt; </span>print_lambda = <span class="hljs-keyword">lambda</span> z: print(z)  <span class="hljs-comment"># When is the return expression of a lambda expression executed?</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>print_lambda
<div class="alt prompt-5">______</div><div class="solution prompt-5">Function</div>
<span class="hljs-meta">&gt;&gt;&gt; </span>one_thousand = print_lambda(<span class="hljs-number">1000</span>)
<div class="alt prompt-5">______</div><div class="solution prompt-5">1000</div>
<span class="hljs-meta">&gt;&gt;&gt; </span>one_thousand
<div class="alt prompt-5">______</div><div class="solution prompt-5"><span class="hljs-comment"># print_lambda returned None, so nothing gets displayed</span></div></code></pre>
        <button id="prompt-5" class="btn btn-outline btn-lg solutiontoggle prompt">
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

<!--
<pre><code>&gt;&gt;&gt; bar = lambda y: lambda x: pow(x, y)
&gt;&gt;&gt; bar()(15)
<div class="alt prompt-6">______</div><div class="solution prompt-6">&#x54;&#x79;&#x70;&#x65;&#x45;&#x72;&#x72;&#x6f;&#x72;&#x3a;&#x20;&#x3c;&#x6c;&#x61;&#x6d;&#x62;&#x64;&#x61;&#x3e;&#x28;&#x29;&#x20;&#x6d;&#x69;&#x73;&#x73;&#x69;&#x6e;&#x67;&#x20;&#x31;&#x20;&#x72;&#x65;&#x71;&#x75;&#x69;&#x72;&#x65;&#x64;&#x20;&#x70;&#x6f;&#x73;&#x69;&#x74;&#x69;&#x6f;&#x6e;&#x61;&#x6c;&#x20;&#x61;&#x72;&#x67;&#x75;&#x6d;&#x65;&#x6e;&#x74;&#x3a;&#x20;&#x27;&#x79;&#x27;</div>
&gt;&gt;&gt; foo = lambda: 32
&gt;&gt;&gt; foobar = lambda x, y: x // y
&gt;&gt;&gt; a = lambda x: foobar(foo(), bar(4)(x))
&gt;&gt;&gt; a(2)
<div class="alt prompt-6">______</div><div class="solution prompt-6">&#x32;</div>
&gt;&gt;&gt; b = lambda x, y: print(&#x27;summer&#x27;)
<div class="alt prompt-6">______</div><div class="solution prompt-6">&#x23;&#x20;&#x4e;&#x6f;&#x74;&#x68;&#x69;&#x6e;&#x67;&#x20;&#x67;&#x65;&#x74;&#x73;&#x20;&#x70;&#x72;&#x69;&#x6e;&#x74;&#x65;&#x64;&#x20;&#x62;&#x79;&#x20;&#x74;&#x68;&#x65;&#x20;&#x69;&#x6e;&#x74;&#x65;&#x72;&#x70;&#x72;&#x65;&#x74;&#x65;&#x72;</div>
&gt;&gt;&gt; c = b(4, &#x27;dog&#x27;)
<div class="alt prompt-6">______</div><div class="solution prompt-6">&#x73;&#x75;&#x6d;&#x6d;&#x65;&#x72;</div>
&gt;&gt;&gt; print(c)
<div class="alt prompt-6">______</div><div class="solution prompt-6">&#x4e;&#x6f;&#x6e;&#x65;</div></code></pre>
        <button id='prompt-6' class='btn btn-outline btn-lg solutiontoggle prompt'>
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

<pre><code>&gt;&gt;&gt; a = lambda b: b * 2
<div class="alt prompt-7">______</div><div class="solution prompt-7">&#x23;&#x20;&#x4e;&#x6f;&#x74;&#x68;&#x69;&#x6e;&#x67;&#x20;&#x67;&#x65;&#x74;&#x73;&#x20;&#x70;&#x72;&#x69;&#x6e;&#x74;&#x65;&#x64;&#x20;&#x62;&#x79;&#x20;&#x74;&#x68;&#x65;&#x20;&#x69;&#x6e;&#x74;&#x65;&#x72;&#x70;&#x72;&#x65;&#x74;&#x65;&#x72;</div>
&gt;&gt;&gt; a
<div class="alt prompt-7">______</div><div class="solution prompt-7">&#x46;&#x75;&#x6e;&#x63;&#x74;&#x69;&#x6f;&#x6e;</div>
&gt;&gt;&gt; a(a(a()))
<div class="alt prompt-7">______</div><div class="solution prompt-7">&#x54;&#x79;&#x70;&#x65;&#x45;&#x72;&#x72;&#x6f;&#x72;&#x3a;&#x20;&#x3c;&#x6c;&#x61;&#x6d;&#x62;&#x64;&#x61;&#x3e;&#x28;&#x29;&#x20;&#x6d;&#x69;&#x73;&#x73;&#x69;&#x6e;&#x67;&#x20;&#x31;&#x20;&#x72;&#x65;&#x71;&#x75;&#x69;&#x72;&#x65;&#x64;&#x20;&#x70;&#x6f;&#x73;&#x69;&#x74;&#x69;&#x6f;&#x6e;&#x61;&#x6c;&#x20;&#x61;&#x72;&#x67;&#x75;&#x6d;&#x65;&#x6e;&#x74;&#x3a;&#x20;&#x27;&#x62;&#x27;</div>
&gt;&gt;&gt; a(a(a(2)))
<div class="alt prompt-7">______</div><div class="solution prompt-7">&#x31;&#x36;</div>
&gt;&gt;&gt; def d():
...     print(None)
...     print(&#x27;whoo&#x27;)
&gt;&gt;&gt; b = d()
<div class="alt prompt-7">______</div><div class="solution prompt-7">&#x4e;&#x6f;&#x6e;&#x65;&#xa;&#x77;&#x68;&#x6f;&#x6f;</div>
&gt;&gt;&gt; b
<div class="alt prompt-7">______</div><div class="solution prompt-7">&#x23;&#x20;&#x4e;&#x6f;&#x74;&#x68;&#x69;&#x6e;&#x67;&#x20;&#x67;&#x65;&#x74;&#x73;&#x20;&#x70;&#x72;&#x69;&#x6e;&#x74;&#x65;&#x64;&#x20;&#x62;&#x79;&#x20;&#x74;&#x68;&#x65;&#x20;&#x69;&#x6e;&#x74;&#x65;&#x72;&#x70;&#x72;&#x65;&#x74;&#x65;&#x72;</div></code></pre>
        <button id='prompt-7' class='btn btn-outline btn-lg solutiontoggle prompt'>
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        
-->


<h3 id="q2-wwpd-higher-order-functions">Q2: WWPD: Higher Order Functions</h3>


<blockquote><p>Use Ok to test your knowledge with the following "What Would Python Display?" questions:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q hof-wwpd -u</code><button id="copy-code-python3ok-qhof-wwpd-u" class="inline-copy-button"><code class="nohighlight"><div class="copy-tooltip"><span>Copy</span></div>✂️</code></button></pre>
        <script>
        document.getElementById("copy-code-python3ok-qhof-wwpd-u").onclick = () => copyCode('python3 ok -q hof-wwpd -u', "copy-code-python3ok-qhof-wwpd-u");
        </script>
        <br></blockquote>

<pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">even</span><span class="hljs-params">(f)</span>:</span>
<span class="hljs-meta">... </span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">odd</span><span class="hljs-params">(x)</span>:</span>
<span class="hljs-meta">... </span>        <span class="hljs-keyword">if</span> x &lt; <span class="hljs-number">0</span>:
<span class="hljs-meta">... </span>            <span class="hljs-keyword">return</span> f(-x)
<span class="hljs-meta">... </span>        <span class="hljs-keyword">return</span> f(x)
<span class="hljs-meta">... </span>    <span class="hljs-keyword">return</span> odd
<span class="hljs-meta">&gt;&gt;&gt; </span>steven = <span class="hljs-keyword">lambda</span> x: x
<span class="hljs-meta">&gt;&gt;&gt; </span>stewart = even(steven)
<span class="hljs-meta">&gt;&gt;&gt; </span>stewart
<div class="alt prompt-8">______</div><div class="solution prompt-8">&lt;function ...&gt;</div>
<span class="hljs-meta">&gt;&gt;&gt; </span>stewart(<span class="hljs-number">61</span>)
<div class="alt prompt-8">______</div><div class="solution prompt-8">61</div>
<span class="hljs-meta">&gt;&gt;&gt; </span>stewart(<span class="hljs-number">-4</span>)
<div class="alt prompt-8">______</div><div class="solution prompt-8">4</div></code></pre>
        <button id="prompt-8" class="btn btn-outline btn-lg solutiontoggle prompt">
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

<pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">cake</span><span class="hljs-params">()</span>:</span>
<span class="hljs-meta">... </span>   print(<span class="hljs-string">'beets'</span>)
<span class="hljs-meta">... </span>   <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">pie</span><span class="hljs-params">()</span>:</span>
<span class="hljs-meta">... </span>       print(<span class="hljs-string">'sweets'</span>)
<span class="hljs-meta">... </span>       <span class="hljs-keyword">return</span> <span class="hljs-string">'cake'</span>
<span class="hljs-meta">... </span>   <span class="hljs-keyword">return</span> pie
<span class="hljs-meta">&gt;&gt;&gt; </span>chocolate = cake()
<div class="alt prompt-9">______</div><div class="solution prompt-9">beets</div>
<span class="hljs-meta">&gt;&gt;&gt; </span>chocolate
<div class="alt prompt-9">______</div><div class="solution prompt-9">Function</div>
<span class="hljs-meta">&gt;&gt;&gt; </span>chocolate()
<div class="alt prompt-9">______</div><div class="solution prompt-9">sweets
<span class="hljs-string">'cake'</span></div>
<span class="hljs-meta">&gt;&gt;&gt; </span>more_chocolate, more_cake = chocolate(), cake
<div class="alt prompt-9">______</div><div class="solution prompt-9">sweets</div>
<span class="hljs-meta">&gt;&gt;&gt; </span>more_chocolate
<div class="alt prompt-9">______</div><div class="solution prompt-9"><span class="hljs-string">'cake'</span></div>
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">snake</span><span class="hljs-params">(x, y)</span>:</span>
<span class="hljs-meta">... </span>   <span class="hljs-keyword">if</span> cake == more_cake:
<span class="hljs-meta">... </span>       <span class="hljs-keyword">return</span> chocolate
<span class="hljs-meta">... </span>   <span class="hljs-keyword">else</span>:
<span class="hljs-meta">... </span>       <span class="hljs-keyword">return</span> x + y
<span class="hljs-meta">&gt;&gt;&gt; </span>snake(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>)
<div class="alt prompt-9">______</div><div class="solution prompt-9">Function</div>
<span class="hljs-meta">&gt;&gt;&gt; </span>snake(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>)()
<div class="alt prompt-9">______</div><div class="solution prompt-9">30</div>
<span class="hljs-meta">&gt;&gt;&gt; </span>cake = <span class="hljs-string">'cake'</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>snake(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>)
<div class="alt prompt-9">______</div><div class="solution prompt-9">30</div></code></pre>
        <button id="prompt-9" class="btn btn-outline btn-lg solutiontoggle prompt">
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        


<h2 id="parsons-problems">Parsons Problems</h2>


<p>To work on these problems, open the Parsons editor:</p>

<pre><code class="py hljs python">python3 parsons</code></pre>




<h3 id="q3-a-hop-a-skip-and-a-jump">Q3: A Hop, a Skip, and a Jump</h3>


<p>Complete <code>hop</code>, which implements a curried version of the function <code>f(x, y) = y</code>.</p>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">hop</span><span class="hljs-params">()</span>:</span>
    <span class="hljs-string">"""
    Calling hop returns a curried version of the function f(x, y) = y.
    &gt;&gt;&gt; hop()(3)(2) # .Case 1
    2
    &gt;&gt;&gt; hop()(3)(7) # .Case 2
    7
    &gt;&gt;&gt; hop()(4)(7) # .Case 3
    7
    """</span>
<div class="sol-highlight">    <span class="hljs-keyword">return</span> <span class="hljs-keyword">lambda</span> x: <span class="hljs-keyword">lambda</span> y: y</div></code></pre>


<h3 id="q4-digit-index-factory">Q4: Digit Index Factory</h3>


<p>Complete the function <code>digit_index_factory</code>, which takes in two integers <code>k</code> and <code>num</code> as input and returns a function. The returned function takes no arguments, and outputs the offset between <code>k</code> and the rightmost digit of <code>num</code>. The <em>offset</em> between two numbers is defined to be the number of steps between the two numbers. For example, in <code>25</code>, there is an offset of <code>1</code> between <code>2</code> and <code>5</code>.</p>

<p>Note that <code>0</code> is considered to have no digits (not even <code>0</code>).</p>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">digit_index_factory</span><span class="hljs-params">(num, k)</span>:</span>
    <span class="hljs-string">"""
    Returns a function that takes no arguments, and outputs the offset
    between k and the rightmost digit of num. If k is not in num, then
    the returned function returns -1. Note that 0 is considered to
    contain no digits (not even 0).
    &gt;&gt;&gt; digit_index_factory(34567, 4)() # .Case 1
    3
    &gt;&gt;&gt; digit_index_factory(30001, 0)() # .Case 2
    1
    &gt;&gt;&gt; digit_index_factory(999, 1)() # .Case 3
    -1
    &gt;&gt;&gt; digit_index_factory(1234, 0)() # .Case 4
    -1
    """</span>
<div class="sol-highlight">    index = <span class="hljs-number">0</span>
    <span class="hljs-keyword">while</span> num &gt; <span class="hljs-number">0</span>:
        <span class="hljs-keyword">if</span> num % <span class="hljs-number">10</span> == k:
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">lambda</span>: index
        num //= <span class="hljs-number">10</span>
        index += <span class="hljs-number">1</span>

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">lambda</span>: <span class="hljs-number">-1</span></div></code></pre>


<h2 id="coding-practice">Coding Practice</h2>



<h3 id="q5-lambdas-and-currying">Q5: Lambdas and Currying</h3>


<p>Write a function <code>lambda_curry2</code> that will curry any two argument function
using lambdas.</p>

<p><strong>Your solution to this problem should fit entirely on the return line.</strong>
You can try first writing a solution without the restriction, and then
rewriting it into one line after.</p>

<blockquote><p><strong>If the syntax check isn't passing:</strong>
Make sure you've removed the line containing <code>"***YOUR CODE HERE***"</code> so
that it doesn't get treated as part of the function for the syntax check.</p></blockquote>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">lambda_curry2</span><span class="hljs-params">(func)</span>:</span>
    <span class="hljs-string">"""
    Returns a Curried version of a two-argument function FUNC.
    &gt;&gt;&gt; from operator import add, mul, mod
    &gt;&gt;&gt; curried_add = lambda_curry2(add)
    &gt;&gt;&gt; add_three = curried_add(3)
    &gt;&gt;&gt; add_three(5)
    8
    &gt;&gt;&gt; curried_mul = lambda_curry2(mul)
    &gt;&gt;&gt; mul_5 = curried_mul(5)
    &gt;&gt;&gt; mul_5(42)
    210
    &gt;&gt;&gt; lambda_curry2(mod)(123)(10)
    3
    """</span>
<div class="sol-highlight">    <span class="hljs-keyword">return</span> <span class="hljs-keyword">lambda</span> arg1: <span class="hljs-keyword">lambda</span> arg2: func(arg1, arg2)</div></code></pre>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q lambda_curry2</code><button id="copy-code-python3ok-qlambda_curry2" class="inline-copy-button"><code class="nohighlight"><div class="copy-tooltip"><span>Copy</span></div>✂️</code></button></pre>
        <script>
        document.getElementById("copy-code-python3ok-qlambda_curry2").onclick = () => copyCode('python3 ok -q lambda_curry2', "copy-code-python3ok-qlambda_curry2");
        </script>
        <br>

<div class="sol-highlight">

<p>To curry a two argument function, we want to only call <code>func</code> once we have
received its two arguments on separate calls to our curry function. We can
do so by using lambdas. The outermost lambda will receive the first argument
that we will later pass into <code>func</code>, and since we haven't yet received both
arguments that we need, we want this outermost lambda to return a function
itself. This function (which we can implement using another lambda) will take
in a single parameter, so when we call it, then we will have had both
arguments that we need to call <code>func</code>.</p>

</div>


<h3 id="q6-count-van-count">Q6: Count van Count</h3>


<p>Consider the following implementations of <code>count_factors</code> and <code>count_primes</code>:</p>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">count_factors</span><span class="hljs-params">(n)</span>:</span>
    <span class="hljs-string">"""Return the number of positive factors that n has.
    &gt;&gt;&gt; count_factors(6)
    4   # 1, 2, 3, 6
    &gt;&gt;&gt; count_factors(4)
    3   # 1, 2, 4
    """</span>
    i = <span class="hljs-number">1</span>
    count = <span class="hljs-number">0</span>
    <span class="hljs-keyword">while</span> i &lt;= n:
        <span class="hljs-keyword">if</span> n % i == <span class="hljs-number">0</span>:
            count += <span class="hljs-number">1</span>
        i += <span class="hljs-number">1</span>
    <span class="hljs-keyword">return</span> count

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">count_primes</span><span class="hljs-params">(n)</span>:</span>
    <span class="hljs-string">"""Return the number of prime numbers up to and including n.
    &gt;&gt;&gt; count_primes(6)
    3   # 2, 3, 5
    &gt;&gt;&gt; count_primes(13)
    6   # 2, 3, 5, 7, 11, 13
    """</span>
    i = <span class="hljs-number">1</span>
    count = <span class="hljs-number">0</span>
    <span class="hljs-keyword">while</span> i &lt;= n:
        <span class="hljs-keyword">if</span> is_prime(i):
            count += <span class="hljs-number">1</span>
        i += <span class="hljs-number">1</span>
    <span class="hljs-keyword">return</span> count

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">is_prime</span><span class="hljs-params">(n)</span>:</span>
    <span class="hljs-keyword">return</span> count_factors(n) == <span class="hljs-number">2</span> <span class="hljs-comment"># only factors are 1 and n</span></code></pre>

<p>The implementations look quite similar! Generalize this logic by writing a
function <code>count_cond</code>, which takes in a two-argument predicate function
<code>condition(n, i)</code>. <code>count_cond</code> returns a one-argument function that takes
in <code>n</code>, which counts all the numbers from 1 to <code>n</code> that satisfy <code>condition</code>
when called.</p>

<solution>

<pre><code class="hljs sql">def count_cond(condition):
    """Returns a function <span class="hljs-keyword">with</span> one parameter N that counts <span class="hljs-keyword">all</span> the numbers <span class="hljs-keyword">from</span>
    <span class="hljs-number">1</span> <span class="hljs-keyword">to</span> N that satisfy the two-argument predicate <span class="hljs-keyword">function</span> Condition, <span class="hljs-keyword">where</span>
    the <span class="hljs-keyword">first</span> argument <span class="hljs-keyword">for</span> Condition <span class="hljs-keyword">is</span> N <span class="hljs-keyword">and</span> the <span class="hljs-keyword">second</span> argument <span class="hljs-keyword">is</span> the
    <span class="hljs-built_in">number</span> <span class="hljs-keyword">from</span> <span class="hljs-number">1</span> <span class="hljs-keyword">to</span> N.

    &gt;&gt;&gt; count_factors = count_cond(lambda n, i: n % i == <span class="hljs-number">0</span>)
    &gt;&gt;&gt; count_factors(<span class="hljs-number">2</span>)   <span class="hljs-comment"># 1, 2</span>
    <span class="hljs-number">2</span>
    &gt;&gt;&gt; count_factors(<span class="hljs-number">4</span>)   <span class="hljs-comment"># 1, 2, 4</span>
    <span class="hljs-number">3</span>
    &gt;&gt;&gt; count_factors(<span class="hljs-number">12</span>)  <span class="hljs-comment"># 1, 2, 3, 4, 6, 12</span>
    <span class="hljs-number">6</span>

    &gt;&gt;&gt; is_prime = lambda n, i: count_factors(i) == <span class="hljs-number">2</span>
    &gt;&gt;&gt; count_primes = count_cond(is_prime)
    &gt;&gt;&gt; count_primes(<span class="hljs-number">2</span>)    <span class="hljs-comment"># 2</span>
    <span class="hljs-number">1</span>
    &gt;&gt;&gt; count_primes(<span class="hljs-number">3</span>)    <span class="hljs-comment"># 2, 3</span>
    <span class="hljs-number">2</span>
    &gt;&gt;&gt; count_primes(<span class="hljs-number">4</span>)    <span class="hljs-comment"># 2, 3</span>
    <span class="hljs-number">2</span>
    &gt;&gt;&gt; count_primes(<span class="hljs-number">5</span>)    <span class="hljs-comment"># 2, 3, 5</span>
    <span class="hljs-number">3</span>
    &gt;&gt;&gt; count_primes(<span class="hljs-number">20</span>)   <span class="hljs-comment"># 2, 3, 5, 7, 11, 13, 17, 19</span>
    <span class="hljs-number">8</span>
    <span class="hljs-string">"""
</span><div class="sol-highlight"><span class="hljs-string">    def counter(n):
        i = 1
        count = 0
        while i &lt;= n:
            if condition(n, i):
                count += 1
            i += 1
        return count
    return counter
</span></div></code></pre>

</solution>

<div class="sol-highlight">

<p>One question that might be nice to ask is:
in what ways is the logic for <code>count_factors</code> and <code>count_primes</code> similar,
and in what ways are they different?</p>

<p>The answer to the first question can tell us the logic that we want to
include in our <code>count_cond</code> function, while the answer to the second
question can tell us where in <code>count_cond</code> we want to be able to have
the difference in behavior observed between <code>count_factors</code> and
<code>count_primes</code>.</p>

<p>It'll be helpful to also keep in mind that we want <code>count_cond</code> to return
a function that, when an argument <code>n</code> is passed in, will behave similarly
to <code>count_factors</code> or <code>count_primes</code>. In other words, <code>count_cond</code> is a
higher order function that returns a function, that then contains the
logic common to both <code>count_factors</code> and <code>count_primes</code>.</p>

</div>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q count_cond</code><button id="copy-code-python3ok-qcount_cond" class="inline-copy-button"><code class="nohighlight"><div class="copy-tooltip"><span>Copy</span></div>✂️</code></button></pre>
        <script>
        document.getElementById("copy-code-python3ok-qcount_cond").onclick = () => copyCode('python3 ok -q count_cond', "copy-code-python3ok-qcount_cond");
        </script>
        <br>


<h2 id="submit">Submit</h2>


<p>Make sure to submit this assignment by running:</p>

<pre><code class="hljs sql">python3 ok <span class="hljs-comment">--submit</span></code></pre>


<h1 id="optional-questions">Optional Questions</h1>



<h3 id="q7-composite-identity-function">Q7: Composite Identity Function</h3>


<p>Write a function that takes in two single-argument functions, <code>f</code> and <code>g</code>, and
returns another <strong>function</strong> that has a single parameter <code>x</code>. The returned
function should return <code>True</code> if <code>f(g(x))</code> is equal to <code>g(f(x))</code>. You can
assume the output of <code>g(x)</code> is a valid input for <code>f</code> and vice versa.
Try to use the <code>composer</code> function defined below for more HOF practice.</p>

<solution>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">composer</span><span class="hljs-params">(f, g)</span>:</span>
    <span class="hljs-string">"""Return the composition function which given x, computes f(g(x)).

    &gt;&gt;&gt; add_one = lambda x: x + 1        # adds one to x
    &gt;&gt;&gt; square = lambda x: x**2
    &gt;&gt;&gt; a1 = composer(square, add_one)   # (x + 1)^2
    &gt;&gt;&gt; a1(4)
    25
    &gt;&gt;&gt; mul_three = lambda x: x * 3      # multiplies 3 to x
    &gt;&gt;&gt; a2 = composer(mul_three, a1)    # ((x + 1)^2) * 3
    &gt;&gt;&gt; a2(4)
    75
    &gt;&gt;&gt; a2(5)
    108
    """</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">lambda</span> x: f(g(x))

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">composite_identity</span><span class="hljs-params">(f, g)</span>:</span>
    <span class="hljs-string">"""
    Return a function with one parameter x that returns True if f(g(x)) is
    equal to g(f(x)). You can assume the result of g(x) is a valid input for f
    and vice versa.

    &gt;&gt;&gt; add_one = lambda x: x + 1        # adds one to x
    &gt;&gt;&gt; square = lambda x: x**2
    &gt;&gt;&gt; b1 = composite_identity(square, add_one)
    &gt;&gt;&gt; b1(0)                            # (0 + 1)^2 == 0^2 + 1
    True
    &gt;&gt;&gt; b1(4)                            # (4 + 1)^2 != 4^2 + 1
    False
    """</span>
<div class="sol-highlight">    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">identity</span><span class="hljs-params">(x)</span>:</span>
        <span class="hljs-keyword">return</span> composer(f, g)(x) == composer(g, f)(x)
    <span class="hljs-keyword">return</span> identity

    <span class="hljs-comment"># Alternative solution</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">lambda</span> x: f(g(x)) == g(f(x))
</div></code></pre>

</solution>

<div class="sol-highlight">

<p>Solution using <code>composer</code>:</p>

<p>Calling <code>composer</code> will return us a function that takes in a single parameter
<code>x</code>.</p>

<p>Here, the order in which we pass in the two functions <code>f</code> and <code>g</code> from
<code>composite_identity</code> matters. <code>composer</code> will give us a function that first
calls the second argument to <code>composer</code> on the input <code>x</code> (let's call this
return value to be <code>y</code>), and we will then call the first argument to <code>composer</code>
on this return value (aka on <code>y</code>), which is what we finally return.</p>

<p>We want to compare the results of <code>f(g(x))</code> with <code>g(f(x))</code>, so we will want
to call <code>composer</code> and then pass in (as a separate argument) <code>x</code> to these
composed functions in order to get a value to actually compare them.</p>

<p>Solution not using <code>composer</code>:</p>

<p>We can also directly call <code>f(g(x))</code> and <code>g(f(x))</code> instead of calling
<code>composer</code>, and then compare the results of these two function calls.</p>

</div>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q composite_identity</code><button id="copy-code-python3ok-qcomposite_identity" class="inline-copy-button"><code class="nohighlight"><div class="copy-tooltip"><span>Copy</span></div>✂️</code></button></pre>
        <script>
        document.getElementById("copy-code-python3ok-qcomposite_identity").onclick = () => copyCode('python3 ok -q composite_identity', "copy-code-python3ok-qcomposite_identity");
        </script>
        <br>


<h3 id="q8-i-heard-you-liked-functions">Q8: I Heard You Liked Functions...</h3>


<p>Define a function <code>cycle</code> that takes in three functions <code>f1</code>, <code>f2</code>,
<code>f3</code>, as arguments. <code>cycle</code> will return another function that should
take in an integer argument <code>n</code> and return another function.  That
final function should take in an argument <code>x</code> and cycle through
applying <code>f1</code>, <code>f2</code>, and <code>f3</code> to <code>x</code>, depending on what <code>n</code>
was. Here's what the final function should do to <code>x</code> for a few
values of <code>n</code>:</p>

<ul>
  <li><code>n = 0</code>, return <code>x</code></li>
  <li><code>n = 1</code>, apply <code>f1</code> to <code>x</code>, or return <code>f1(x)</code></li>
  <li><code>n = 2</code>, apply <code>f1</code> to <code>x</code> and then <code>f2</code> to the result of that, or
  return <code>f2(f1(x))</code></li>
  <li><code>n = 3</code>, apply <code>f1</code> to <code>x</code>, <code>f2</code> to the result of applying <code>f1</code>,
  and then <code>f3</code> to the result of applying <code>f2</code>, or <code>f3(f2(f1(x)))</code></li>
  <li><code>n = 4</code>, start the cycle again applying <code>f1</code>, then <code>f2</code>, then <code>f3</code>,
  then <code>f1</code> again, or <code>f1(f3(f2(f1(x))))</code></li>
  <li>And so forth.</li>
</ul>

<p><em>Hint</em>: most of the work goes inside the most nested function.</p>

<solution>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">cycle</span><span class="hljs-params">(f1, f2, f3)</span>:</span>
    <span class="hljs-string">"""Returns a function that is itself a higher-order function.

    &gt;&gt;&gt; def add1(x):
    ...     return x + 1
    &gt;&gt;&gt; def times2(x):
    ...     return x * 2
    &gt;&gt;&gt; def add3(x):
    ...     return x + 3
    &gt;&gt;&gt; my_cycle = cycle(add1, times2, add3)
    &gt;&gt;&gt; identity = my_cycle(0)
    &gt;&gt;&gt; identity(5)
    5
    &gt;&gt;&gt; add_one_then_double = my_cycle(2)
    &gt;&gt;&gt; add_one_then_double(1)
    4
    &gt;&gt;&gt; do_all_functions = my_cycle(3)
    &gt;&gt;&gt; do_all_functions(2)
    9
    &gt;&gt;&gt; do_more_than_a_cycle = my_cycle(4)
    &gt;&gt;&gt; do_more_than_a_cycle(2)
    10
    &gt;&gt;&gt; do_two_cycles = my_cycle(6)
    &gt;&gt;&gt; do_two_cycles(1)
    19
    """</span>
<div class="sol-highlight">    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">ret_fn</span><span class="hljs-params">(n)</span>:</span>
        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">ret</span><span class="hljs-params">(x)</span>:</span>
            i = <span class="hljs-number">0</span>
            <span class="hljs-keyword">while</span> i &lt; n:
                <span class="hljs-keyword">if</span> i % <span class="hljs-number">3</span> == <span class="hljs-number">0</span>:
                    x = f1(x)
                <span class="hljs-keyword">elif</span> i % <span class="hljs-number">3</span> == <span class="hljs-number">1</span>:
                    x = f2(x)
                <span class="hljs-keyword">else</span>:
                    x = f3(x)
                i += <span class="hljs-number">1</span>
            <span class="hljs-keyword">return</span> x
        <span class="hljs-keyword">return</span> ret
    <span class="hljs-keyword">return</span> ret_fn

    <span class="hljs-comment"># Alternative solution</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">ret_fn</span><span class="hljs-params">(n)</span>:</span>
        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">ret</span><span class="hljs-params">(x)</span>:</span>
            <span class="hljs-keyword">if</span> n == <span class="hljs-number">0</span>:
                <span class="hljs-keyword">return</span> x
            <span class="hljs-keyword">return</span> cycle(f2, f3, f1)(n - <span class="hljs-number">1</span>)(f1(x))
        <span class="hljs-keyword">return</span> ret
    <span class="hljs-keyword">return</span> ret_fn
</div></code></pre>

</solution>

<div class="sol-highlight">

<p>There are three main pieces of information we need in order to calculate
the value that we want to return.</p>

<ol>
  <li>The three functions that we will be cycling through, so <code>f1</code>, <code>f2</code>, <code>f3</code>.</li>
  <li>The number of function applications we need, namely <code>n</code>. When <code>n</code> is 0,
  we want our function to behave like the identity function (i.e. return the
  input without applying any of our three functions to it).</li>
  <li>The input that we start off with, namely <code>x</code>.</li>
</ol>

<p>The functions are the parameters passed into <code>cycle</code>. We want the return
value of <code>cycle</code> to be a function <code>ret_fn</code> that takes in <code>n</code> and outputs
another function <code>ret</code>. <code>ret</code> is a function that takes in <code>x</code> and then will
cyclically apply the three passed in functions to the input until we have
reached <code>n</code> applications. Thus, most of the logic will go inside of <code>ret</code>.</p>

<p>Solution:</p>

<p>To figure out which function we should next use in our cycle, we can use the
mod operation via <code>%</code>, and loop through the function applications until we
have made exactly <code>n</code> function applications to our original input <code>x</code>.</p>

</div>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q cycle</code><button id="copy-code-python3ok-qcycle" class="inline-copy-button"><code class="nohighlight"><div class="copy-tooltip"><span>Copy</span></div>✂️</code></button></pre>
        <script>
        document.getElementById("copy-code-python3ok-qcycle").onclick = () => copyCode('python3 ok -q cycle', "copy-code-python3ok-qcycle");
        </script>
        <br>

  </div>

  <div class="col-md-3 sticky">
    <nav class="hidden-print hidden-sm hidden-xs sidebar">
      <ul class="nav nav-stacked noselect">
  <li><a href="https://cs61a.org/lab/sol-lab02/#topics">Topics</a></li>
  <ul class="nav nav-stacked noselect">
    <li><a href="https://cs61a.org/lab/sol-lab02/#lambda-expressions">Lambda Expressions</a></li>
    <li><a href="https://cs61a.org/lab/sol-lab02/#currying">Currying</a></li>
  </ul>
  <li><a href="https://cs61a.org/lab/sol-lab02/#required-questions">Required Questions</a></li>
  <ul class="nav nav-stacked noselect">
    <li><a href="https://cs61a.org/lab/sol-lab02/#what-would-python-display">What Would Python Display?</a></li>
    <ul class="nav nav-stacked noselect">
      <li><a href="https://cs61a.org/lab/sol-lab02/#q1-wwpd-lambda-the-free">Q1: WWPD: Lambda the Free</a></li>
      <li><a href="https://cs61a.org/lab/sol-lab02/#q2-wwpd-higher-order-functions">Q2: WWPD: Higher Order Functions</a></li>
    </ul>
    <li><a href="https://cs61a.org/lab/sol-lab02/#parsons-problems">Parsons Problems</a></li>
    <ul class="nav nav-stacked noselect">
      <li><a href="https://cs61a.org/lab/sol-lab02/#q3-a-hop-a-skip-and-a-jump">Q3: A Hop, a Skip, and a Jump</a></li>
      <li><a href="https://cs61a.org/lab/sol-lab02/#q4-digit-index-factory">Q4: Digit Index Factory</a></li>
    </ul>
    <li><a href="https://cs61a.org/lab/sol-lab02/#coding-practice">Coding Practice</a></li>
    <ul class="nav nav-stacked noselect">
      <li><a href="https://cs61a.org/lab/sol-lab02/#q5-lambdas-and-currying">Q5: Lambdas and Currying</a></li>
      <li><a href="https://cs61a.org/lab/sol-lab02/#q6-count-van-count">Q6: Count van Count</a></li>
    </ul>
    <li><a href="https://cs61a.org/lab/sol-lab02/#submit">Submit</a></li>
  </ul>
  <li><a href="https://cs61a.org/lab/sol-lab02/#optional-questions">Optional Questions</a></li>
  <ul class="nav nav-stacked noselect">
    <li><a href="https://cs61a.org/lab/sol-lab02/#q7-composite-identity-function">Q7: Composite Identity Function</a></li>
    <li><a href="https://cs61a.org/lab/sol-lab02/#q8-i-heard-you-liked-functions">Q8: I Heard You Liked Functions...</a></li>
  </ul>
</ul>
    </nav>
  </div>
</div>

    </main>

    <footer class="container">
      <div class="row text-center">
        <div class="col col-sm-4">
          <h3><a href="https://cs61a.org/">CS 61A</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="https://cs61a.org/weekly">Weekly Schedule</a></li>
            <li><a href="https://cs61a.org/office-hours">Office Hours</a></li>
            <li><a href="https://cs61a.org/staff">Staff</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="https://cs61a.org/resources">Resources</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="https://cs61a.org/articles/studying">Studying Guide</a></li>
            <li><a href="https://cs61a.org/articles/debugging">Debugging Guide</a></li>
            <li><a href="https://cs61a.org/articles/composition">Composition Guide</a></li>
            <li><a href="https://cs61a.org/articles/pair-programming">Pair Programming</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="https://cs61a.org/articles/about">Policies</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="https://cs61a.org/articles/about#assignments">Assignments</a></li>
            <li><a href="https://cs61a.org/articles/about#exams">Exams</a></li>
            <li><a href="https://cs61a.org/articles/about#grading">Grading</a></li>
          </ul>
        </div>
      </div>
    </footer>

    

    <script src="./Lab 2 Solutions _ CS 61A Spring 2022_files/loader.min.js.下载"></script>
  <link rel="stylesheet" data-name="vs/editor/editor.main" href="./Lab 2 Solutions _ CS 61A Spring 2022_files/editor.main.min.css">
  <script>
      require.config({ paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs' }});
      window.MonacoEnvironment = { getWorkerUrl: () => URL.createObjectURL(new Blob([`
      self.MonacoEnvironment = {
          baseUrl: 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min'
      };
      importScripts('https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/base/worker/workerMain.min.js');
  `], { type: 'text/javascript' }))
  };
  </script>
    <script src="./Lab 2 Solutions _ CS 61A Spring 2022_files/jsplumb.min.js.下载"></script>
    <script src="./Lab 2 Solutions _ CS 61A Spring 2022_files/network_storage.js.下载"></script>
    <script src="./Lab 2 Solutions _ CS 61A Spring 2022_files/storable.js.下载"></script>
    <script src="./Lab 2 Solutions _ CS 61A Spring 2022_files/editor.js.下载"></script>
    <script src="./Lab 2 Solutions _ CS 61A Spring 2022_files/copy-button.js.下载"></script>
    <script src="./Lab 2 Solutions _ CS 61A Spring 2022_files/env-diagram.js.下载"></script>
    
<script src="./Lab 2 Solutions _ CS 61A Spring 2022_files/sketchy.js.下载"></script>
<script>
  $('.sidebar ul').addClass('nav nav-stacked noselect');
  $('body').scrollspy({
    target: '.sidebar',
    offset: 40
  });

  function goToId(id) {
    var target = $(id);
    target.parent().show();
    $('html,body').animate({
      scrollTop: target.offset().top,
    }, 100);
    $("body").scrollspy('refresh');
  }

  if (location.hash) {
    setTimeout(function() {
      if (location.hash) {
        goToId(location.hash);
      }
    }, 1);
  }

  $("a").click(function(event) {
    var urlBeforeHashRegEx = new RegExp("^"+window.location.href.split("#")[0]);
    if (/^#/.test(this.hash) && urlBeforeHashRegEx.test(this.href)) {
      event.preventDefault();
      goToId(this.hash);
      document.location.hash = this.hash;
    }
  });
</script>

  
</body><grammarly-desktop-integration data-grammarly-shadow-root="true"></grammarly-desktop-integration></html>