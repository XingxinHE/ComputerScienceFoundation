<!DOCTYPE html>
<!-- saved from url=(0032)https://cs61a.org/lab/sol-lab10/ -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="description" content="CS 61A: Structure and Interpretation of Computer Programs">
    <meta name="keywords" content="CS 61A, Computer Science, CS, 61A, Programming, John DeNero, Berkeley, EECS">
    <meta name="author" content="Pamela Fox">
    
    <meta name="viewport" content="width=device-width">

    <script src="./Lab 10 Solutions _ CS 61A Spring 2022_files/jquery.min.js.下载"></script>
    <script src="./Lab 10 Solutions _ CS 61A Spring 2022_files/jquery.ba-throttle-debounce.min.js.下载"></script>
    <script src="./Lab 10 Solutions _ CS 61A Spring 2022_files/bootstrap.min.js.下载"></script>
    <script src="./Lab 10 Solutions _ CS 61A Spring 2022_files/hl.js.下载"></script>
    <script src="./Lab 10 Solutions _ CS 61A Spring 2022_files/toggledarkmode.js.下载"></script>
    <script>
        // we aren't registering builtins since
        //      (1) they don't render differently in the current CSS from other names
        //      (2) it's a mess to list all of them. You can extract from the site but that takes effort
        // if (1) ceases to be true, (2) might be worth the effort. For now, we're leaving as is
        hljsRegister({
            'keyword': "define if cond and or let begin lambda mu quote delay cons-stream set! quasiquote unquote unquote-splicing define-macro"
        });
        hljs.initHighlightingOnLoad();
    </script>
    <script src="./Lab 10 Solutions _ CS 61A Spring 2022_files/dark-mode.js.下载"></script>
    <link rel="stylesheet" href="./Lab 10 Solutions _ CS 61A Spring 2022_files/bootstrap.min.css">
    <link rel="stylesheet" href="./Lab 10 Solutions _ CS 61A Spring 2022_files/css">
    <link rel="stylesheet" href="./Lab 10 Solutions _ CS 61A Spring 2022_files/style.css">
    <link rel="stylesheet" href="./Lab 10 Solutions _ CS 61A Spring 2022_files/mono-blue.css">
    <link rel="icon" href="https://cs61a.org/assets/images/favicon.ico">

    

<link rel="stylesheet" type="text/css" href="./Lab 10 Solutions _ CS 61A Spring 2022_files/lab.css">


    <title>
Lab 10 Solutions | CS 61A Spring 2022
</title>
  </head>

  <body id="index" class="home" data-new-gr-c-s-check-loaded="14.1057.0" data-gr-ext-installed="">
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container noselect">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-section">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="https://cs61a.org/">
            <img style="max-width:60px; margin-top: -20px;" class="logo" src="./Lab 10 Solutions _ CS 61A Spring 2022_files/logo.png">
          </a>
        <button type="button" class="btn btn-primary" style="float: left; margin-top: 8px;"><span style="filter: grayscale(100%);">✏️</span></button></div>

        <div class="collapse navbar-collapse" id="navbar-collapse-section">
          <ul class="nav navbar-nav navbar-right">
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="https://cs61a.org/lab/sol-lab10/#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Calendar
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a href="https://cs61a.org/weekly">Weekly Schedule</a></li>
                <li><a href="https://cs61a.org/office-hours">Office Hours</a></li>
              </ul>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="https://cs61a.org/lab/sol-lab10/#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Staff
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a href="https://cs61a.org/instructor">Instructors</a></li>
                <li><a href="https://cs61a.org/TAs">TAs</a></li>
                <li><a href="https://cs61a.org/tutors">Tutors</a></li>
                <li><a href="https://cs61a.org/academic-interns">Academic Interns</a></li>
              </ul>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="https://cs61a.org/lab/sol-lab10/#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a href="https://cs61a.org/resources/">Topical Resources + Past Exams</a></li>
                <li><a href="https://tutor.cs61a.org/">PyTutor</a></li>
                <li><a href="https://code.cs61a.org/">Code</a></li>
                <li><a href="https://piazza.com/class/kxj8vcku7037li" target="_blank">Piazza</a></li>
                <li><a href="https://cs61a.org/articles/campus-res/">Department/Campus Resources</a></li>
              </ul>
            </li>
            <li><a href="https://cs61a.org/articles/about">Syllabus</a></li>
            <li><a href="https://cs61a.org/contact/">Contact</a></li>
            <li>
              <label class="switch">
                <input type="checkbox" id="toggle-mode-cb">
                <span class="slider round"></span>
              </label>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <main id="content" class="container">
      
<div class="row">
  <div class="col-md-9">
    <header>
      <h1>
        
Lab 10 Solutions

        
        
        <ul class="inline-block list-inline">
          <li><a href="https://cs61a.org/lab/sol-lab10/lab10.zip" class="label label-outline">lab10.zip</a></li>
        </ul>
        
        
      </h1>
    </header>
    
<h2>Solution Files</h2>


    
<h1 id="topics">Topics</h1>


<p>Consult this section if you need a refresher on the material for this lab. It's
okay to skip directly to <a href="https://cs61a.org/lab/sol-lab10/#required-questions">the questions</a> and refer back
here should you get stuck.</p>


<h2 id="scheme">Scheme</h2>

<p>Scheme is a famous functional programming language from the 1970s.  It is a
dialect of Lisp (which stands for LISt Processing).  The first observation most
people make is the unique syntax, which uses a prefix notation and (often many)
nested parentheses (see <a href="http://xkcd.com/297/">http://xkcd.com/297/</a>).  Scheme
features first-class functions and optimized tail-recursion, which were
relatively new features at the time.</p>

<blockquote><p>Our course uses a custom version of Scheme (which you will build for Project
4) included in the starter ZIP archive. To start the interpreter, type
<code>python3 scheme</code>. To run a Scheme program interactively, type <code>python3 scheme
-i &lt;file.scm&gt;</code>. To exit the Scheme interpreter, type <code>(exit)</code>.
You may find it useful to try <a href="https://code.cs61a.org/scheme">code.cs61a.org/scheme</a> when
working through problems, as it can draw environment and box-and-pointer
diagrams and it lets you walk your code step-by-step (similar to Python Tutor).
Don't forget to submit your code through Ok though!</p></blockquote>


<h3 id="scheme-editor">Scheme Editor</h3>


<p>As you're writing your code, you can debug using the Scheme Editor. In your <code>scheme</code> folder you will find a new editor. To run this editor, run <code>python3 editor</code>. This should pop up a window in your browser; if it does not, please navigate to <a href="localhost:31415">localhost:31415</a> and you should see it.</p>

<p>Make sure to run <code>python3 ok</code> in a separate tab or window so that the editor keeps running.</p>

<p>If you find that your code works in the online editor but not in your own interpreter, it's possible you have a bug in code from an earlier part that you'll have to track down. Every once in a while there's a bug that our tests don't catch, and if you find one you should let us know!</p>


<h2 id="expressions">Expressions</h2>

<br>

        <button id="toggle-1" class="btn btn-outline btn-lg alwaystoggle toggle">
        Primitive Expressions<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-1">

<h2 id="primitive-expressions">Primitive Expressions</h2>


<p>Just like in Python, atomic, or primitive, expressions in Scheme take a single
step to evaluate. These include numbers, booleans, symbols.</p>

<pre><code class="scheme hljs">scm&gt; <span class="hljs-number">1234</span>    <span class="hljs-comment">; integer</span>
<span class="hljs-number">1234</span>
scm&gt; <span class="hljs-number">123.4</span>   <span class="hljs-comment">; real number</span>
<span class="hljs-number">123.4</span></code></pre>




<h3 id="symbols">Symbols</h3>


<p>Out of these, the symbol type is the only one we didn't encounter in Python. A
<strong>symbol</strong> acts a lot like a Python name, but not exactly. Specifically, a
symbol in Scheme is also a type of value. On the other hand, in Python, names
only serve as expressions; a Python expression can never evaluate to a name.</p>

<pre><code class="scheme hljs">scm&gt; quotient      <span class="hljs-comment">; A name bound to a built-in procedure</span>
#[<span class="hljs-name">quotient</span>]
scm&gt; <span class="hljs-symbol">'quotient</span>     <span class="hljs-comment">; An expression that evaluates to a symbol</span>
quotient
scm&gt; <span class="hljs-symbol">'hello-world!</span>
hello-world!</code></pre>




<h3 id="booleans">Booleans</h3>


<p>In Scheme, <em>all</em> values except the special boolean value <code>#f</code> are interpreted
as true values (unlike Python, where there are some false-y values like <code>0</code>).
Our particular version of the Scheme interpreter allows you to write <code>True</code> and
<code>False</code> in place of <code>#t</code> and <code>#f</code>. This is not standard.</p>

<pre><code class="scheme hljs">scm&gt; #t
#t
scm&gt; #f
#f</code></pre>


</div>
<br>


        <button id="toggle-2" class="btn btn-outline btn-lg alwaystoggle toggle">
        Call Expressions<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-2">

<h2 id="call-expressions">Call Expressions</h2>


<p>Like Python, the operator in a Scheme call expression comes before all the
operands. Unlike Python, the operator is included within the parentheses and
the operands are separated by spaces rather than with commas. However,
evaluation of a Scheme call expression follows the exact same rules as in
Python:</p>

<ol>
  <li>Evaluate the operator. It should evaluate to a procedure.</li>
  <li>Evaluate the operands, left to right.</li>
  <li>Apply the procedure to the evaluated operands.</li>
</ol>

<p>Here are some examples using built-in procedures:</p>

<pre><code class="scheme hljs">scm&gt; (<span class="hljs-name">+</span> <span class="hljs-number">1</span> <span class="hljs-number">2</span>)
<span class="hljs-number">3</span>
scm&gt; (<span class="hljs-name">-</span> <span class="hljs-number">10</span> (<span class="hljs-name">/</span> <span class="hljs-number">6</span> <span class="hljs-number">2</span>))
<span class="hljs-number">7</span>
scm&gt; (<span class="hljs-name">modulo</span> <span class="hljs-number">35</span> <span class="hljs-number">4</span>)
<span class="hljs-number">3</span>
scm&gt; (<span class="hljs-name">even?</span> (<span class="hljs-name">quotient</span> <span class="hljs-number">45</span> <span class="hljs-number">2</span>))
#t</code></pre>


</div>
<br>


        <button id="toggle-3" class="btn btn-outline btn-lg alwaystoggle toggle">
        Special Forms<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-3">

<h2 id="special-forms">Special Forms</h2>


<p>The operator of a special form expression is a special form. What makes a
special form "special" is that they do not follow the three rules of evaluation
stated in the previous section. Instead, each special form follows its own
special rules for execution, such as short-circuiting before evaluating all the
operands.</p>

<p>Some examples of special forms that we'll study today are the <code>if</code>, <code>cond</code>,
<code>define</code>, and <code>lambda</code> forms. Read their corresponding sections below to find
out what their rules of evaluation are!
</p></div><p></p>


<h2 id="control-structures">Control Structures</h2>


        <button id="toggle-4" class="btn btn-outline btn-lg alwaystoggle toggle">
        If Expressions<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-4">

<h2 id="if-expressions"><code>if</code> Expressions</h2>


<p>The <code>if</code> special form allows us to evaluate one of two expressions based on a
predicate. It takes in two required arguments and an optional third argument:</p>

<pre><code class="hljs scheme">(<span class="hljs-name"><span class="hljs-keyword">if</span></span> &lt;predicate&gt; &lt;if-true&gt; [<span class="hljs-name">if-false</span>])</code></pre>

<p>The first operand is what's known as a <strong>predicate</strong> expression in Scheme, an
expression whose value is interpreted as either <code>#t</code> or <code>#f</code>.</p>

<p>The rules for evaluating an <code>if</code> special form expression are as follows:</p>

<ol>
  <li>Evaluate <code>&lt;predicate&gt;</code>.</li>
  <li>If <code>&lt;predicate&gt;</code> evaluates to a truth-y value, evaluate and return the value
  if the expression <code>&lt;if-true&gt;</code>. Otherwise, evaluate and return the value of
  <code>[if-false]</code> if it is provided.</li>
</ol>

<p>Can you see why this expression is a special form? Compare the rules between a
regular call expression and an <code>if</code> expression. What is the difference?</p>

<solution>

<blockquote><p>Step 2 of evaluating call expressions requires evaluating all of the operands
in order. However, an <code>if</code> expression will only evaluate two of its operands,
the conditional expression and either <code>&lt;true-result&gt;</code> or <code>&lt;false-result&gt;</code>.
Because we don't evaluate all the operands in an <code>if</code> expression, it is a
special form.  </p></blockquote>

<p>Let's compare a Scheme <code>if</code> expression with a Python <code>if</code> statement:</p>

<table class="table table-bordered">
  <tbody><tr>
    <th>Scheme</th>
    <th>Python</th>
  </tr>
  <tr>
    <td>
<pre><code class="hljs">scm&gt; (if (&gt; x 3)
         1
         2)</code></pre>
    </td><td>
<pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">if</span> x &gt; <span class="hljs-number">3</span>:
<span class="hljs-meta">... </span>    <span class="hljs-number">1</span>
<span class="hljs-meta">... </span><span class="hljs-keyword">else</span>:
<span class="hljs-meta">... </span>    <span class="hljs-number">2</span></code></pre>
    </td>
  </tr>
</tbody></table>

<p>Although the code may look the same, what happens when each block of code is
evaluated is actually very different. Specifically, the Scheme expression,
given that it is an expression, evaluates to some value. However, the Python
<code>if</code> statement simply directs the flow of the program.</p>

<p>Another difference between the two is that it's possible to add more lines of
code into the suites of the Python <code>if</code> statement, while a Scheme <code>if</code>
expression expects just a single expression for each of the true result and the
false result.</p>

<p>One final difference is that in Scheme, you cannot write <code>elif</code> cases. If you
want to have multiple cases using the <code>if</code> expression, you would need multiple
branched <code>if</code> expressions:</p>

<table class="table table-bordered">
  <tbody><tr>
    <th>Scheme</th>
    <th>Python</th>
  </tr>
  <tr>
    <td>
<pre><code class="hljs">scm&gt; (if (&lt; x 0)
         'negative
         (if (= x 0)
             'zero
             'positive
         )
 )</code></pre>
    </td><td>
<pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">if</span> x &lt; <span class="hljs-number">0</span>:
<span class="hljs-meta">... </span>    <span class="hljs-string">'negative'</span>
<span class="hljs-meta">... </span><span class="hljs-keyword">else</span>:
<span class="hljs-meta">... </span>    <span class="hljs-keyword">if</span> x == <span class="hljs-number">0</span>:
<span class="hljs-meta">... </span>        <span class="hljs-string">'zero'</span>
<span class="hljs-meta">... </span>    <span class="hljs-keyword">else</span>:
<span class="hljs-meta">... </span>        <span class="hljs-string">'positive'</span></code></pre>
  </td></tr>
</tbody></table>

</solution></div>
<br>

        <button id="toggle-5" class="btn btn-outline btn-lg alwaystoggle toggle">
        Cond Expressions<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-5">

<h2 id="cond-expressions"><code>cond</code> Expressions</h2>


<p>Using nested <code>if</code> expressions doesn't seem like a very practical way to take
care of multiple cases. Instead, we can use the <code>cond</code> special form, a general
conditional expression similar to a multi-clause if/elif/else conditional
expression in Python. <code>cond</code> takes in an arbitrary number of arguments known as
<em>clauses</em>.  A clause is written as a list containing two expressions: <code>(&lt;p&gt;
&lt;e&gt;)</code>.</p>

<pre><code class="hljs scheme">(<span class="hljs-name"><span class="hljs-keyword">cond</span></span>
    (<span class="hljs-name">&lt;p1&gt;</span> &lt;e1&gt;)
    (<span class="hljs-name">&lt;p2&gt;</span> &lt;e2&gt;)
    ...
    (<span class="hljs-name">&lt;pn&gt;</span> &lt;en&gt;)
    [(<span class="hljs-name">else</span> &lt;else-expression&gt;)])</code></pre>

<p>The first expression in each clause is a predicate.  The second expression in
the clause is the return expression corresponding to its predicate. The
optional <code>else</code> clause has no predicate.</p>

<p>The rules of evaluation are as follows:</p>

<ol>
  <li>Evaluate the predicates <code>&lt;p1&gt;</code>, <code>&lt;p2&gt;</code>, ..., <code>&lt;pn&gt;</code> in order until you reach
  one that evaluates to a truth-y value.</li>
  <li>If you reach a predicate that evaluates to a truth-y value, evaluate and return
  the corresponding expression in the clause.</li>
  <li>If none of the predicates are truth-y and there is an <code>else</code> clause,
  evaluate and return <code>&lt;else-expression&gt;</code>.</li>
</ol>

<p>As you can see, <code>cond</code> is a special form because it does not evaluate its
operands in their entirety; the predicates are evaluated separately from their
corresponding return expression. In addition, the expression short circuits
upon reaching the first predicate that evaluates to a truth-y value, leaving
the remaining predicates unevaluated.</p>

<p>The following code is roughly equivalent (see the explanation in the <a href="https://cs61a.org/lab/sol-lab10/#if-expressions">if
expression section</a>):</p>

<table class="table table-bordered">
  <tbody><tr>
    <th>Scheme</th>
    <th>Python</th>
  </tr>
  <tr>
    <td>
<pre><code class="hljs">scm&gt; (cond
        ((&gt; x 0) 'positive)
        ((&lt; x 0) 'negative)
        (else 'zero))</code></pre>
    </td><td>
<pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">if</span> x &gt; <span class="hljs-number">0</span>:
<span class="hljs-meta">... </span>    <span class="hljs-string">'positive'</span>
<span class="hljs-meta">... </span><span class="hljs-keyword">elif</span> x &lt; <span class="hljs-number">0</span>:
<span class="hljs-meta">... </span>    <span class="hljs-string">'negative'</span>
<span class="hljs-meta">... </span><span class="hljs-keyword">else</span>:
<span class="hljs-meta">... </span>    <span class="hljs-string">'zero'</span></code></pre>
  </td></tr>
</tbody></table>

</div>


<h2 id="defining-names">Defining Names</h2>


        <button id="toggle-6" class="btn btn-outline btn-lg alwaystoggle toggle">
        Define Form<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-6">

<p>The special form <code>define</code> is used to define variables and functions in Scheme.
There are two versions of the <code>define</code> special form.  To define variables, we
use the <code>define</code> form with the following syntax:</p>

<pre><code class="hljs scheme">(<span class="hljs-name"><span class="hljs-keyword">define</span></span> &lt;name&gt; &lt;expression&gt;)</code></pre>

<p>The rules to evaluate this expression are</p>

<ol>
  <li>Evaluate the <code>&lt;expression&gt;</code>.</li>
  <li>Bind its value to the <code>&lt;name&gt;</code> in the current frame.</li>
  <li>Return <code>&lt;name&gt;</code>.</li>
</ol>

<p>The second version of <code>define</code> is used to define procedures:</p>

<pre><code class="hljs scheme">(<span class="hljs-name"><span class="hljs-keyword">define</span></span> (<span class="hljs-name">&lt;name&gt;</span> &lt;param1&gt; &lt;param2&gt; ...) &lt;body&gt; )</code></pre>

<p>To evaluate this expression:</p>

<ol>
  <li>Create a lambda procedure with the given parameters and <code>&lt;body&gt;</code>.</li>
  <li>Bind the procedure to the <code>&lt;name&gt;</code> in the current frame.</li>
  <li>Return <code>&lt;name&gt;</code>.</li>
</ol>

<p>The following two expressions are equivalent:</p>

<pre><code class="scheme hljs">scm&gt; (<span class="hljs-name"><span class="hljs-keyword">define</span></span> foo (<span class="hljs-name"><span class="hljs-keyword">lambda</span></span> (x y) (<span class="hljs-name">+</span> x y)))
foo
scm&gt; (<span class="hljs-name"><span class="hljs-keyword">define</span></span> (<span class="hljs-name">foo</span> x y) (<span class="hljs-name">+</span> x y))
foo</code></pre>



<p><code>define</code> is a special form because its operands are not evaluated at all!  For
example, <code>&lt;body&gt;</code> is not evaluated when a procedure is defined, but rather when
it is called. <code>&lt;name&gt;</code> and the parameter names are all names that should not be
evaluated when executing this <code>define</code> expression.
</p></div><p></p>


<h2 id="lambda-functions">Lambda Functions</h2>


        <button id="toggle-7" class="btn btn-outline btn-lg alwaystoggle toggle">
        Lambda Functions<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-7">

<p>All Scheme procedures are lambda procedures. To create a lambda procedure, we
can use the <code>lambda</code> special form:</p>

<pre><code class="scheme hljs">(<span class="hljs-name"><span class="hljs-keyword">lambda</span></span> (&lt;param1&gt; &lt;param2&gt; ...) &lt;body&gt;)</code></pre>



<p>This expression will create and return a function with the given parameters and
body, but it will not alter the current environment. This is very similar to a
<code>lambda</code> expression in Python!</p>

<pre><code class="scheme hljs">scm&gt; (<span class="hljs-name"><span class="hljs-keyword">lambda</span></span> (x y) (<span class="hljs-name">+</span> x y))        <span class="hljs-comment">; Returns a lambda function, but doesn't assign it to a name</span>
(<span class="hljs-name"><span class="hljs-keyword">lambda</span></span> (x y) (<span class="hljs-name">+</span> x y))
scm&gt; ((<span class="hljs-name"><span class="hljs-keyword">lambda</span></span> (x y) (<span class="hljs-name">+</span> x y)) <span class="hljs-number">3</span> <span class="hljs-number">4</span>)  <span class="hljs-comment">; Create and call a lambda function in one line</span>
<span class="hljs-number">7</span></code></pre>



<p>A procedure may take in any number of parameters. The <code>&lt;body&gt;</code> may contain
multiple expressions. There is not an equivalent version of a Python <code>return</code>
statement in Scheme. The function will simply return the value of the last
expression in the body.
</p></div><p></p>


<h1 id="required-questions">Required Questions</h1>



<h2 id="what-would-scheme-display">What Would Scheme Display?</h2>


<h3 id="q1-combinations">Q1: Combinations</h3>


<p>Let's familiarize ourselves with some built-in Scheme procedures and special
forms!</p>

<blockquote><p>Use Ok to unlock the following "What would Scheme print?" questions:</p>

<pre><code class="hljs">python3 ok -q combinations -u</code></pre></blockquote>

<prompt>

<pre><code class="scheme hljs">scm&gt; (<span class="hljs-name">-</span> <span class="hljs-number">10</span> <span class="hljs-number">4</span>)

scm&gt; (<span class="hljs-name">*</span> <span class="hljs-number">7</span> <span class="hljs-number">6</span>)

scm&gt; (<span class="hljs-name">+</span> <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span>)

scm&gt; (<span class="hljs-name">/</span> <span class="hljs-number">8</span> <span class="hljs-number">2</span> <span class="hljs-number">2</span>)

scm&gt; (<span class="hljs-name">quotient</span> <span class="hljs-number">29</span> <span class="hljs-number">5</span>)

scm&gt; (<span class="hljs-name">modulo</span> <span class="hljs-number">29</span> <span class="hljs-number">5</span>)</code></pre>


</prompt>

<prompt>

<pre><code class="scheme hljs">scm&gt; (<span class="hljs-name">=</span> <span class="hljs-number">1</span> <span class="hljs-number">3</span>)                    <span class="hljs-comment">; Scheme uses '=' instead of '==' for comparison</span>

scm&gt; (<span class="hljs-name">&lt;</span> <span class="hljs-number">1</span> <span class="hljs-number">3</span>)

scm&gt; (<span class="hljs-name"><span class="hljs-keyword">or</span></span> <span class="hljs-number">1</span> <span class="hljs-literal">#t</span>)                  <span class="hljs-comment">; or special form short circuits</span>

scm&gt; (<span class="hljs-name"><span class="hljs-keyword">and</span></span> <span class="hljs-literal">#t</span> <span class="hljs-literal">#f</span> (<span class="hljs-name">/</span> <span class="hljs-number">1</span> <span class="hljs-number">0</span>))

scm&gt; (<span class="hljs-name">not</span> <span class="hljs-literal">#t</span>)</code></pre>


</prompt>

<prompt>

<pre><code class="scheme hljs">scm&gt; (<span class="hljs-name"><span class="hljs-keyword">define</span></span> x <span class="hljs-number">3</span>)

scm&gt; x

scm&gt; (<span class="hljs-name"><span class="hljs-keyword">define</span></span> y (<span class="hljs-name">+</span> x <span class="hljs-number">4</span>))

scm&gt; y

scm&gt; (<span class="hljs-name"><span class="hljs-keyword">define</span></span> x (<span class="hljs-name"><span class="hljs-keyword">lambda</span></span> (y) (<span class="hljs-name">*</span> y <span class="hljs-number">2</span>)))

scm&gt; (<span class="hljs-name">x</span> y)</code></pre>


</prompt>

<prompt>

<pre><code class="scheme hljs">scm&gt; (<span class="hljs-name"><span class="hljs-keyword">if</span></span> (<span class="hljs-name">not</span> (<span class="hljs-name">print</span> <span class="hljs-number">1</span>)) (<span class="hljs-name">print</span> <span class="hljs-number">2</span>) (<span class="hljs-name">print</span> <span class="hljs-number">3</span>))

scm&gt; (<span class="hljs-name">*</span> (<span class="hljs-name"><span class="hljs-keyword">if</span></span> (<span class="hljs-name">&gt;</span> <span class="hljs-number">3</span> <span class="hljs-number">2</span>) <span class="hljs-number">1</span> <span class="hljs-number">2</span>) (<span class="hljs-name">+</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span>))

scm&gt; (<span class="hljs-name"><span class="hljs-keyword">define</span></span> foo (<span class="hljs-name"><span class="hljs-keyword">lambda</span></span> (x y z) (<span class="hljs-name"><span class="hljs-keyword">if</span></span> x y z)))

scm&gt; (<span class="hljs-name">foo</span> <span class="hljs-number">1</span> <span class="hljs-number">2</span> (<span class="hljs-name">print</span> <span class="hljs-symbol">'hi</span>))

scm&gt; ((<span class="hljs-name"><span class="hljs-keyword">lambda</span></span> (a) (<span class="hljs-name">print</span> <span class="hljs-symbol">'a</span>)) <span class="hljs-number">100</span>)</code></pre>


</prompt>


<h2 id="coding-questions">Coding Questions</h2>



<h3 id="q2-over-or-under">Q2: Over or Under</h3>


<p>Define a procedure <code>over-or-under</code> which takes in a number <code>num1</code> and a number <code>num2</code>
and returns the following:</p>

<ul>
  <li>-1 if <code>num1</code> is less than <code>num2</code></li>
  <li>0 if <code>num1</code> is equal to <code>num2</code></li>
  <li>1 if <code>num1</code> is greater than <code>num2</code></li>
</ul>

<blockquote><p>Challenge: Implement this in 2 different ways using <code>if</code> and <code>cond</code>!</p></blockquote>

<solution>

<pre><code class="scheme hljs">(<span class="hljs-name"><span class="hljs-keyword">define</span></span> (<span class="hljs-name">over-or-under</span> num1 num2)
<div class="sol-highlight">  (<span class="hljs-name"><span class="hljs-keyword">cond</span></span>
    ((<span class="hljs-name">&lt;</span> num1 num2) <span class="hljs-number">-1</span>)
    ((<span class="hljs-name">=</span> num1 num2) <span class="hljs-number">0</span>)
    (<span class="hljs-name">else</span> <span class="hljs-number">1</span>))
</div>)</code></pre>


<!--
 <div class="sol-highlight">
Video walkthrough:
<p>

            <iframe width="560" height="315" src="https://youtube.com/embed/UJ37SCaM3cQ?t=35m46s"
                frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen></iframe><p><a href='https://youtu.be/UJ37SCaM3cQ?t=35m46s'> YouTube link </a></p>
</div>
-->
</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q over_or_under</code><button id="copy-code-python3ok-qover_or_under" class="inline-copy-button"><code class="nohighlight"><div class="copy-tooltip"><span>Copy</span></div>✂️</code></button></pre>
        <script>
        document.getElementById("copy-code-python3ok-qover_or_under").onclick = () => copyCode('python3 ok -q over_or_under', "copy-code-python3ok-qover_or_under");
        </script>
        <br>


<h3 id="q3-make-adder">Q3: Make Adder</h3>


<p>Write the procedure <code>make-adder</code> which takes in an initial number,
<code>num</code>, and then returns a procedure. This returned procedure takes in a
number <code>inc</code> and returns the result of <code>num + inc</code>.</p>

<blockquote><p><em>Hint</em>: To return a procedure, you can either return a <code>lambda</code> expression
or <code>define</code> another nested procedure. Remember that Scheme will automatically
return the last clause in your procedure.</p>

<p>You can find documentation on the syntax of <code>lambda</code> expressions in
<a href="https://cs61a.org/articles/scheme-spec/#lambda">the 61A scheme specification!</a></p></blockquote>

<solution>

<pre><code class="scheme hljs">(<span class="hljs-name"><span class="hljs-keyword">define</span></span> (<span class="hljs-name">make-adder</span> num)
<div class="sol-highlight">  (<span class="hljs-name"><span class="hljs-keyword">lambda</span></span> (inc) (<span class="hljs-name">+</span> inc num))
</div>)</code></pre>



<!--
<div class="sol-highlight">

            <iframe width="560" height="315" src="https://youtube.com/embed/UJ37SCaM3cQ?t=47m4s"
                frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen></iframe><p><a href='https://youtu.be/UJ37SCaM3cQ?t=47m4s'> YouTube link </a></p>
</div>
-->
</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q make_adder</code><button id="copy-code-python3ok-qmake_adder" class="inline-copy-button"><code class="nohighlight"><div class="copy-tooltip"><span>Copy</span></div>✂️</code></button></pre>
        <script>
        document.getElementById("copy-code-python3ok-qmake_adder").onclick = () => copyCode('python3 ok -q make_adder', "copy-code-python3ok-qmake_adder");
        </script>
        <br>


<h3 id="q4-compose">Q4: Compose</h3>


<p>Write the procedure <code>composed</code>, which takes in procedures <code>f</code> and <code>g</code>
and outputs a new procedure. This new procedure takes in a number <code>x</code>
and outputs the result of calling <code>f</code> on <code>g</code> of <code>x</code>.</p>

<solution>

<pre><code class="scheme hljs">(<span class="hljs-name"><span class="hljs-keyword">define</span></span> (<span class="hljs-name">composed</span> f g)
<div class="sol-highlight">  (<span class="hljs-name"><span class="hljs-keyword">lambda</span></span> (x) (<span class="hljs-name">f</span> (<span class="hljs-name">g</span> x)))</div>)</code></pre>


</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q composed</code><button id="copy-code-python3ok-qcomposed" class="inline-copy-button"><code class="nohighlight"><div class="copy-tooltip"><span>Copy</span></div>✂️</code></button></pre>
        <script>
        document.getElementById("copy-code-python3ok-qcomposed").onclick = () => copyCode('python3 ok -q composed', "copy-code-python3ok-qcomposed");
        </script>
        <br>


<h3 id="q5-pow">Q5: Pow</h3>


<p>Implement a procedure <code>pow</code> for raising the number <code>base</code> to the power of a
nonnegative integer <code>exp</code> for which the number of operations grows logarithmically, rather than linearly (the number of recursive calls should be much smaller than the input <code>exp</code>). For example, for <code>(pow 2 32)</code> should take 5 recursive calls rather than 32 recursive calls. Similarly, <code>(pow 2 64)</code> should take 6 recursive calls.</p>

<blockquote><p><em>Hint:</em> Consider the following observations:</p>

<ol>
  <li>x<sup>2y</sup> = (x<sup>y</sup>)<sup>2</sup></li>
  <li>x<sup>2y+1</sup> = x(x<sup>y</sup>)<sup>2</sup></li>
</ol>

<p>For example we see that 2<sup>32</sup> is (2<sup>16</sup>)<sup>2</sup>, 2<sup>16</sup> is (2<sup>8</sup>)<sup>2</sup>, etc.
You may use the built-in predicates <code>even?</code> and <code>odd?</code>.
Scheme doesn't support iteration in the same manner as Python, so consider another way to solve this problem.</p></blockquote>

<solution>

<pre><code class="scheme hljs">(<span class="hljs-name"><span class="hljs-keyword">define</span></span> (<span class="hljs-name">square</span> n) (<span class="hljs-name">*</span> n n))

(<span class="hljs-name"><span class="hljs-keyword">define</span></span> (<span class="hljs-name">pow</span> base exp)
<div class="sol-highlight">  (<span class="hljs-name"><span class="hljs-keyword">cond</span></span> ((<span class="hljs-name">=</span> exp <span class="hljs-number">0</span>) <span class="hljs-number">1</span>)
        ((<span class="hljs-name">even?</span> exp) (<span class="hljs-name">square</span> (<span class="hljs-name">pow</span> base (<span class="hljs-name">/</span> exp <span class="hljs-number">2</span>))))
        (<span class="hljs-name">else</span> (<span class="hljs-name">*</span> base (<span class="hljs-name">pow</span> base (<span class="hljs-name">-</span> exp <span class="hljs-number">1</span>)))))</div>)</code></pre>


</solution>

<p>Use Ok to unlock and test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q pow -u
python3 ok -q pow</code><button id="copy-code-python3ok-qpow-upython3ok-qpow" class="inline-copy-button"><code class="nohighlight"><div class="copy-tooltip"><span>Copy</span></div>✂️</code></button></pre>
        <script>
        document.getElementById("copy-code-python3ok-qpow-upython3ok-qpow").onclick = () => copyCode('python3 ok -q pow -u\npython3 ok -q pow', "copy-code-python3ok-qpow-upython3ok-qpow");
        </script>
        <br>

<div class="sol-highlight">

<p>The <code>else</code> clause shows the basic recursive version of <code>pow</code> that we've seen
before in class.</p>

<p>We save time in computation by avoiding an extra n/2 multiplications of the
base. Instead, we just square the result of <code>base^(exp/2)</code>.
<!--
Video walkthrough:
<p>

            <iframe width="560" height="315" src="https://youtube.com/embed/-yt2EOv9ZLU"
                frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen></iframe><p><a href='https://youtu.be/-yt2EOv9ZLU'> YouTube link </a></p>
-->
</p></div><p></p>


<h2 id="submit">Submit</h2>


<p>Make sure to submit this assignment by running:</p>

<pre><code class="hljs sql">python3 ok <span class="hljs-comment">--submit</span></code></pre>

  </div>

  <div class="col-md-3 sticky">
    <nav class="hidden-print hidden-sm hidden-xs sidebar">
      <ul class="nav nav-stacked noselect">
  <li><a href="https://cs61a.org/lab/sol-lab10/#topics">Topics</a></li>
  <ul class="nav nav-stacked noselect">
    <li><a href="https://cs61a.org/lab/sol-lab10/#scheme">Scheme</a></li>
    <ul class="nav nav-stacked noselect">
      <li><a href="https://cs61a.org/lab/sol-lab10/#scheme-editor">Scheme Editor</a></li>
    </ul>
    <li><a href="https://cs61a.org/lab/sol-lab10/#expressions">Expressions</a></li>
    <li><a href="https://cs61a.org/lab/sol-lab10/#primitive-expressions">Primitive Expressions</a></li>
    <ul class="nav nav-stacked noselect">
      <li><a href="https://cs61a.org/lab/sol-lab10/#symbols">Symbols</a></li>
      <li><a href="https://cs61a.org/lab/sol-lab10/#booleans">Booleans</a></li>
    </ul>
    <li><a href="https://cs61a.org/lab/sol-lab10/#call-expressions">Call Expressions</a></li>
    <li><a href="https://cs61a.org/lab/sol-lab10/#special-forms">Special Forms</a></li>
    <li><a href="https://cs61a.org/lab/sol-lab10/#control-structures">Control Structures</a></li>
    <li><a href="https://cs61a.org/lab/sol-lab10/#if-expressions"><code>if</code> Expressions</a></li>
    <li><a href="https://cs61a.org/lab/sol-lab10/#cond-expressions"><code>cond</code> Expressions</a></li>
    <li><a href="https://cs61a.org/lab/sol-lab10/#defining-names">Defining Names</a></li>
    <li><a href="https://cs61a.org/lab/sol-lab10/#lambda-functions">Lambda Functions</a></li>
  </ul>
  <li><a href="https://cs61a.org/lab/sol-lab10/#required-questions">Required Questions</a></li>
  <ul class="nav nav-stacked noselect">
    <li><a href="https://cs61a.org/lab/sol-lab10/#what-would-scheme-display">What Would Scheme Display?</a></li>
    <ul class="nav nav-stacked noselect">
      <li><a href="https://cs61a.org/lab/sol-lab10/#q1-combinations">Q1: Combinations</a></li>
    </ul>
    <li><a href="https://cs61a.org/lab/sol-lab10/#coding-questions">Coding Questions</a></li>
    <ul class="nav nav-stacked noselect">
      <li><a href="https://cs61a.org/lab/sol-lab10/#q2-over-or-under">Q2: Over or Under</a></li>
      <li><a href="https://cs61a.org/lab/sol-lab10/#q3-make-adder">Q3: Make Adder</a></li>
      <li><a href="https://cs61a.org/lab/sol-lab10/#q4-compose">Q4: Compose</a></li>
      <li><a href="https://cs61a.org/lab/sol-lab10/#q5-pow">Q5: Pow</a></li>
    </ul>
    <li><a href="https://cs61a.org/lab/sol-lab10/#submit">Submit</a></li>
  </ul>
</ul>
    </nav>
  </div>
</div>

    </main>

    <footer class="container">
      <div class="row text-center">
        <div class="col col-sm-4">
          <h3><a href="https://cs61a.org/">CS 61A</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="https://cs61a.org/weekly">Weekly Schedule</a></li>
            <li><a href="https://cs61a.org/office-hours">Office Hours</a></li>
            <li><a href="https://cs61a.org/staff">Staff</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="https://cs61a.org/resources">Resources</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="https://cs61a.org/articles/studying">Studying Guide</a></li>
            <li><a href="https://cs61a.org/articles/debugging">Debugging Guide</a></li>
            <li><a href="https://cs61a.org/articles/composition">Composition Guide</a></li>
            <li><a href="https://cs61a.org/articles/pair-programming">Pair Programming</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="https://cs61a.org/articles/about">Policies</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="https://cs61a.org/articles/about#assignments">Assignments</a></li>
            <li><a href="https://cs61a.org/articles/about#exams">Exams</a></li>
            <li><a href="https://cs61a.org/articles/about#grading">Grading</a></li>
          </ul>
        </div>
      </div>
    </footer>

    

    <script src="./Lab 10 Solutions _ CS 61A Spring 2022_files/loader.min.js.下载"></script>
  <link rel="stylesheet" data-name="vs/editor/editor.main" href="./Lab 10 Solutions _ CS 61A Spring 2022_files/editor.main.min.css">
  <script>
      require.config({ paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs' }});
      window.MonacoEnvironment = { getWorkerUrl: () => URL.createObjectURL(new Blob([`
      self.MonacoEnvironment = {
          baseUrl: 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min'
      };
      importScripts('https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/base/worker/workerMain.min.js');
  `], { type: 'text/javascript' }))
  };
  </script>
    <script src="./Lab 10 Solutions _ CS 61A Spring 2022_files/jsplumb.min.js.下载"></script>
    <script src="./Lab 10 Solutions _ CS 61A Spring 2022_files/network_storage.js.下载"></script>
    <script src="./Lab 10 Solutions _ CS 61A Spring 2022_files/storable.js.下载"></script>
    <script src="./Lab 10 Solutions _ CS 61A Spring 2022_files/editor.js.下载"></script>
    <script src="./Lab 10 Solutions _ CS 61A Spring 2022_files/copy-button.js.下载"></script>
    <script src="./Lab 10 Solutions _ CS 61A Spring 2022_files/env-diagram.js.下载"></script>
    
<script src="./Lab 10 Solutions _ CS 61A Spring 2022_files/sketchy.js.下载"></script>
<script>
  $('.sidebar ul').addClass('nav nav-stacked noselect');
  $('body').scrollspy({
    target: '.sidebar',
    offset: 40
  });

  function goToId(id) {
    var target = $(id);
    target.parent().show();
    $('html,body').animate({
      scrollTop: target.offset().top,
    }, 100);
    $("body").scrollspy('refresh');
  }

  if (location.hash) {
    setTimeout(function() {
      if (location.hash) {
        goToId(location.hash);
      }
    }, 1);
  }

  $("a").click(function(event) {
    var urlBeforeHashRegEx = new RegExp("^"+window.location.href.split("#")[0]);
    if (/^#/.test(this.hash) && urlBeforeHashRegEx.test(this.href)) {
      event.preventDefault();
      goToId(this.hash);
      document.location.hash = this.hash;
    }
  });
</script>

  
</body><grammarly-desktop-integration data-grammarly-shadow-root="true"></grammarly-desktop-integration></html>